<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#ff6600" />
    <meta name="description" content="Pizza Express VR - An immersive VR pizza delivery game" />
    <title>Pizza Express VR Game</title>
    <link rel="manifest" href="/pizza-express-vr/manifest.json" />
    <link rel="icon" href="/pizza-express-vr/assets/favicon-BK7mrg_k.svg" />
    <link rel="apple-touch-icon" href="/pizza-express-vr/assets/favicon-BK7mrg_k.svg" />
    <link rel="stylesheet" type="text/css" href="/pizza-express-vr/css/main.css" />
  </head>

  <body style="margin: 0; padding: 0; font-family: Arial, sans-serif; min-height: 100vh; background: url('/pizza-express-vr/landing-page-background.gif') no-repeat center center fixed; background-size: cover;">
    <div style="min-height: 100vh; background: rgba(0,0,0,0.5); display: flex; flex-direction: column; align-items: center; justify-content: center;">
    <h2 style="text-align: center; margin-top: 20px; color: #fff; text-shadow: 2px 2px 4px rgba(0,0,0,0.8); font-size: 2.5rem;">üçï Pizza Express VR Game</h2>
    <p style="text-align: center; color: #eee; text-shadow: 1px 1px 2px rgba(0,0,0,0.8);">Welcome! Game loads without authentication required.</p>
    
    <!-- Game will load here -->
    <div id="game-container"></div>

    <!-- Initialize game directly without Auth0 -->
    <script src="/pizza-express-vr/js/app-no-auth.js"></script>
    
    <!-- PWA Service Worker Registration -->
    <script>
      // Register service worker for PWA support
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/pizza-express-vr/sw.js').then(reg => {
          console.log('‚úÖ Service Worker registered');
        }).catch(err => {
          console.log('Service Worker registration failed:', err);
        });
      }
      
      // Handle install prompt - MUST set window.deferredPrompt inside the event handler
      window.addEventListener('beforeinstallprompt', (e) => {
        e.preventDefault();
        window.deferredPrompt = e;  // Store on window so app-no-auth.js can access it
        console.log('üì¶ Install prompt available');
      });
    </script>
    </div>
  </body>
</html>
