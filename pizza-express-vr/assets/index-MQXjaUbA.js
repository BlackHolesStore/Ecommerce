import{r as e,a as t,R as r}from"./react-vendor-DENY9G7l.js";import{C as n,M as o,a as i,B as a,V as s,L as l,b as d,G as c,c as p,d as u,R as h,e as x,D as f,S as m,f as g,g as y,h as z,P as b,E as v,i as w,j as S,k as D,l as j,m as k,n as T,F as E,o as M,W as R,p as P,A as C,q as I,r as A,s as B}from"./three-86Piokmc.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var F={exports:{}},L={},$=e,W=Symbol.for("react.element"),H=Symbol.for("react.fragment"),N=Object.prototype.hasOwnProperty,O=$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_={key:!0,ref:!0,__self:!0,__source:!0};function G(e,t,r){var n,o={},i=null,a=null;for(n in void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(a=t.ref),t)N.call(t,n)&&!_.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:W,type:e,key:i,ref:a,props:o,_owner:O.current}}L.Fragment=H,L.jsx=G,L.jsxs=G,F.exports=L;var V=F.exports,U={},q=t;U.createRoot=q.createRoot,U.hydrateRoot=q.hydrateRoot;const X=[{x:-15,z:10,label:"A"},{x:15,z:10,label:"B"},{x:-15,z:-12,label:"C"},{x:15,z:-12,label:"D"}],Y=[{x:-40,z:40,num:1},{x:40,z:40,num:2},{x:-40,z:-40,num:3},{x:40,z:-40,num:4}],J=0,K=4,Z=[{id:1,title:"Welcome to Pizza Express VR! üçï",message:"You are a drone pilot delivering pizzas across the city! Each customer has a name and is waiting for their delicious pizza!",highlight:null},{id:2,title:"Pick Up Pizza üì¶",message:"Grab a pizza from the shop. Each pizza has a different price - the more expensive, the bigger tips possible!",highlight:"shop"},{id:3,title:"Carry Carefully üéØ",message:"Tilt meter shows pizza condition. Keep it green! Damaged pizzas = angry customers = no tips!",highlight:"tiltMeter"},{id:4,title:"Climb the Ranks! üèÜ",message:"Earn XP with each delivery! Rise from Trainee to PIZZA GOD! Higher ranks = bigger tip bonuses! But beware - dropping pizzas costs more XP than you earn!",highlight:null},{id:5,title:"Earn Badges üéñÔ∏è",message:"Deliver specific pizza types to unlock badges! Each pizza type has special achievements. Collect them all!",highlight:null},{id:6,title:"Store Earnings üí∞",message:"Every pizza you deliver adds to the store's total earnings! Compete to be the top contributor!",highlight:null},{id:7,title:"Fly Controls ‚úàÔ∏è",message:"Use WASD to move, Space/Shift for altitude, V to switch camera. In VR, use your controllers!",highlight:"controls"},{id:8,title:"Deliver & Get Paid! üöÄ",message:"Land in the green zone and release the pizza! Fast + careful = big tips! Now go make some deliveries!",highlight:"deliveryZone"}],Q=8900331,ee=4881468,te=16729156,re=16776960,ne=3355443,oe=2201331,ie=65280,ae=4473924,se=2236962,le=16750848,de=16739179,ce=async()=>{if(!navigator.xr)return{supported:!1,reason:"WebXR not available in this browser"};try{const e=await navigator.xr.isSessionSupported("immersive-vr");return{supported:e,reason:e?"VR supported":"immersive-vr not supported"}}catch(e){return{supported:!1,reason:e.message}}};class pe{constructor(e,t,r,n=null){this.renderer=e,this.scene=t,this.camera=r,this.playerRig=n,this.session=null,this.referenceSpace=null,this.controllers=[],this.controllerGrips=[],this.isInVR=!1,this.controllerState={left:{connected:!1,squeezing:!1,selecting:!1,thumbstick:{x:0,y:0}},right:{connected:!1,squeezing:!1,selecting:!1,thumbstick:{x:0,y:0}}},this.onSessionStart=null,this.onSessionEnd=null,this.onControllerInput=null}async init(){const e=await ce();return e.supported?(this.renderer.xr.enabled=!0,this.setupControllers(),!0):(console.warn("WebXR not supported:",e.reason),!1)}setupControllers(){const e=this.playerRig||this.scene,t=this.renderer.xr.getController(0);t.userData.handedness="left",this.setupControllerEvents(t,0),e.add(t),this.controllers.push(t);const r=this.renderer.xr.getController(1);r.userData.handedness="right",this.setupControllerEvents(r,1),e.add(r),this.controllers.push(r);const n=this.renderer.xr.getControllerGrip(0);e.add(n),this.controllerGrips.push(n);const o=this.renderer.xr.getControllerGrip(1);e.add(o),this.controllerGrips.push(o),this.addControllerVisuals()}addControllerVisuals(){const e=new n(.01,.02,.1,8),t=new o({color:4491519,emissive:2245768,emissiveIntensity:.3});this.controllers.forEach((r,n)=>{const o=new i(e,t);o.rotation.x=-Math.PI/2,r.add(o);const c=(new a).setFromPoints([new s(0,0,0),new s(0,0,-5)]),p=new l({color:4521864,transparent:!0,opacity:.5}),u=new d(c,p);r.add(u)})}setupControllerEvents(e,t){const r=0===t?"left":"right";e.addEventListener("connected",t=>{this.controllerState[r].connected=!0,e.userData.inputSource=t.data,t.data.handedness&&(e.userData.handedness=t.data.handedness),console.log(`Controller ${r} connected:`,t.data.handedness)}),e.addEventListener("disconnected",()=>{this.controllerState[r].connected=!1,console.log(`Controller ${r} disconnected`)}),e.addEventListener("selectstart",()=>{this.controllerState[r].selecting=!0,this.onControllerInput&&this.onControllerInput({type:"selectstart",hand:r,controller:e})}),e.addEventListener("selectend",()=>{this.controllerState[r].selecting=!1,this.onControllerInput&&this.onControllerInput({type:"selectend",hand:r,controller:e})}),e.addEventListener("squeezestart",()=>{this.controllerState[r].squeezing=!0,this.onControllerInput&&this.onControllerInput({type:"squeezestart",hand:r,controller:e})}),e.addEventListener("squeezeend",()=>{this.controllerState[r].squeezing=!1,this.onControllerInput&&this.onControllerInput({type:"squeezeend",hand:r,controller:e})})}async startSession(){try{const e={requiredFeatures:["local-floor"],optionalFeatures:["bounded-floor","hand-tracking","layers"]};return this.session=await navigator.xr.requestSession("immersive-vr",e),this.isInVR=!0,this.renderer.xr.setSession(this.session),this.referenceSpace=await this.session.requestReferenceSpace("local-floor"),this.session.addEventListener("end",()=>{this.isInVR=!1,this.session=null,this.onSessionEnd&&this.onSessionEnd()}),this.onSessionStart&&this.onSessionStart(),console.log("VR session started"),!0}catch(e){return console.error("Failed to start VR session:",e),!1}}async endSession(){this.session&&await this.session.end()}pollControllerInput(){const e=this.session||(this.renderer.xr.isPresenting?this.renderer.xr.getSession():null);if(!e)return;const t=e.inputSources;for(const r of t){if(!r.gamepad)continue;const e=r.handedness||"unknown";if("left"!==e&&"right"!==e)continue;const t=r.gamepad;t.axes.length>=4&&(this.controllerState[e].thumbstick={x:t.axes[2]||0,y:t.axes[3]||0}),t.buttons.length>4&&(this.controllerState[e].primaryButton=t.buttons[4]?.pressed||!1,this.controllerState[e].secondaryButton=t.buttons[5]?.pressed||!1)}return this.controllerState}async triggerHaptic(e,t=.5,r=100){const n=this.session||(this.renderer.xr.isPresenting?this.renderer.xr.getSession():null);if(!n)return;const o=n.inputSources;for(const a of o)if(a.handedness===e&&a.gamepad){const e=a.gamepad;if(e.vibrationActuator)try{return void(await e.vibrationActuator.playEffect("dual-rumble",{startDelay:0,duration:r,weakMagnitude:.5*t,strongMagnitude:t}))}catch(i){}if(e.hapticActuators&&e.hapticActuators[0])try{await e.hapticActuators[0].pulse(t,r)}catch(i){}}}getControllerPosition(e){const t="left"===e?0:1,r=this.controllers[t];if(!r)return null;const n=new s;return r.getWorldPosition(n),n}getControllerDirection(e){const t="left"===e?0:1,r=this.controllers[t];if(!r)return null;const n=new s(0,0,-1);return r.getWorldDirection(n),n}}const ue=[{name:"Plain Cheese",price:12.99,emoji:"üßÄ",description:"Lucky you! Just a basic cheese pizza."},{name:"Pepperoni",price:14.99,emoji:"üçï",description:"Classic pepperoni - not too bad."},{name:"Hawaiian",price:15.99,emoji:"üçç",description:"Pineapple lovers hate you now."},{name:"Veggie Supreme",price:16.99,emoji:"ü•¨",description:"All those veggies... wasted!"},{name:"Meat Lovers",price:18.99,emoji:"ü•ì",description:"So much meat... gone forever."},{name:"BBQ Chicken",price:17.99,emoji:"üçó",description:"That BBQ sauce is everywhere now!"},{name:"Supreme Deluxe",price:21.99,emoji:"üëë",description:"The EXPENSIVE one! Boss is MAD!"},{name:"Truffle Special",price:24.99,emoji:"üçÑ",description:"TRUFFLE?! That costs a fortune!"},{name:"Lobster & Gold Leaf",price:49.99,emoji:"ü¶û",description:"OH NO! The $50 LUXURY PIZZA! You're in DEEP trouble!"}],he=[{id:"cheese_lover",name:"Cheese Lover",emoji:"üßÄ",description:"Delivered 25 Plain Cheese pizzas",pizzaType:"Plain Cheese",required:25},{id:"cheese_king",name:"Cheese King",emoji:"üßÄüëë",description:"Delivered 100 Plain Cheese pizzas",pizzaType:"Plain Cheese",required:100},{id:"pepperoni_pro",name:"Pepperoni Pro",emoji:"üçï",description:"Delivered 25 Pepperoni pizzas",pizzaType:"Pepperoni",required:25},{id:"pepperoni_legend",name:"Pepperoni Legend",emoji:"üçïüî•",description:"Delivered 100 Pepperoni pizzas",pizzaType:"Pepperoni",required:100},{id:"hawaiian_hero",name:"Hawaiian Hero",emoji:"üçç",description:"Delivered 25 Hawaiian pizzas",pizzaType:"Hawaiian",required:25},{id:"pineapple_defender",name:"Pineapple Defender",emoji:"üççüõ°Ô∏è",description:"Delivered 100 Hawaiian pizzas - You embrace the controversy!",pizzaType:"Hawaiian",required:100},{id:"veggie_friend",name:"Veggie Friend",emoji:"ü•¨",description:"Delivered 25 Veggie Supreme pizzas",pizzaType:"Veggie Supreme",required:25},{id:"green_machine",name:"Green Machine",emoji:"ü•¨üíö",description:"Delivered 100 Veggie Supreme pizzas",pizzaType:"Veggie Supreme",required:100},{id:"carnivore",name:"Carnivore",emoji:"ü•ì",description:"Delivered 25 Meat Lovers pizzas",pizzaType:"Meat Lovers",required:25},{id:"meat_master",name:"Meat Master",emoji:"ü•ìüèÜ",description:"Delivered 100 Meat Lovers pizzas",pizzaType:"Meat Lovers",required:100},{id:"bbq_boss",name:"BBQ Boss",emoji:"üçó",description:"Delivered 25 BBQ Chicken pizzas",pizzaType:"BBQ Chicken",required:25},{id:"grill_master",name:"Grill Master",emoji:"üçóüî•",description:"Delivered 100 BBQ Chicken pizzas",pizzaType:"BBQ Chicken",required:100},{id:"supreme_server",name:"Supreme Server",emoji:"üëë",description:"Delivered 25 Supreme Deluxe pizzas",pizzaType:"Supreme Deluxe",required:25},{id:"deluxe_deity",name:"Deluxe Deity",emoji:"üëë‚ú®",description:"Delivered 100 Supreme Deluxe pizzas",pizzaType:"Supreme Deluxe",required:100},{id:"truffle_hunter",name:"Truffle Hunter",emoji:"üçÑ",description:"Delivered 15 Truffle Special pizzas",pizzaType:"Truffle Special",required:15},{id:"truffle_tycoon",name:"Truffle Tycoon",emoji:"üçÑüíé",description:"Delivered 50 Truffle Special pizzas",pizzaType:"Truffle Special",required:50},{id:"luxury_courier",name:"Luxury Courier",emoji:"ü¶û",description:"Delivered 10 Lobster & Gold Leaf pizzas",pizzaType:"Lobster & Gold Leaf",required:10},{id:"golden_god",name:"Golden God",emoji:"ü¶ûüåü",description:"Delivered 25 Lobster & Gold Leaf pizzas - The elite!",pizzaType:"Lobster & Gold Leaf",required:25}],xe=[{id:"first_delivery",name:"First Flight",emoji:"üõ´",description:"Completed your first delivery!",deliveries:1},{id:"getting_started",name:"Getting Started",emoji:"üì¶",description:"Completed 10 deliveries",deliveries:10},{id:"on_a_roll",name:"On a Roll",emoji:"üéØ",description:"Completed 50 deliveries",deliveries:50},{id:"century",name:"Century Club",emoji:"üíØ",description:"Completed 100 deliveries",deliveries:100},{id:"pizza_veteran",name:"Pizza Veteran",emoji:"üéñÔ∏è",description:"Completed 250 deliveries",deliveries:250},{id:"delivery_legend",name:"Delivery Legend",emoji:"üèÜ",description:"Completed 500 deliveries",deliveries:500},{id:"pizza_immortal",name:"Pizza Immortal",emoji:"‚ö°",description:"Completed 1000 deliveries",deliveries:1e3}],fe=[{id:"first_perfect",name:"Flawless",emoji:"‚≠ê",description:"First perfect delivery!",perfectDeliveries:1},{id:"perfectionist",name:"Perfectionist",emoji:"üåü",description:"10 perfect deliveries",perfectDeliveries:10},{id:"untouchable",name:"Untouchable",emoji:"üí´",description:"50 perfect deliveries",perfectDeliveries:50},{id:"god_tier",name:"God Tier",emoji:"‚ú®",description:"100 perfect deliveries - You are a master!",perfectDeliveries:100}],me=[{id:"speed_demon",name:"Speed Demon",emoji:"‚ö°",description:"Delivered in under 20 seconds",fastestTime:20},{id:"lightning",name:"Lightning Fast",emoji:"üå©Ô∏è",description:"Delivered in under 15 seconds",fastestTime:15},{id:"time_bender",name:"Time Bender",emoji:"‚è±Ô∏è",description:"Delivered in under 10 seconds - Are you hacking?!",fastestTime:10}],ge=[{id:"first_hundred",name:"First $100",emoji:"üíµ",description:"Earned $100 in tips",totalTips:100},{id:"high_roller",name:"High Roller",emoji:"üí∞",description:"Earned $500 in tips",totalTips:500},{id:"tip_tycoon",name:"Tip Tycoon",emoji:"ü§ë",description:"Earned $1000 in tips",totalTips:1e3},{id:"pizza_millionaire",name:"Pizza Millionaire",emoji:"üíé",description:"Earned $5000 in tips - Rolling in dough!",totalTips:5e3}],ye=["James","Mary","John","Patricia","Robert","Jennifer","Michael","Linda","David","Elizabeth","William","Barbara","Richard","Susan","Joseph","Jessica","Thomas","Sarah","Christopher","Karen","Charles","Lisa","Daniel","Nancy","Matthew","Betty","Anthony","Margaret","Mark","Sandra","Donald","Ashley","Steven","Kimberly","Paul","Emily","Andrew","Donna","Joshua","Michelle","Kevin","Dorothy","Brian","Carol","George","Amanda","Timothy","Melissa","Ronald","Deborah","Jason","Stephanie","Edward","Rebecca","Jeffrey","Sharon","Ryan","Laura","Jacob","Cynthia","Gary","Kathleen","Nicholas","Amy","Eric","Angela","Jonathan","Shirley","Stephen","Anna","Larry","Brenda","Justin","Pamela","Scott","Emma","Brandon","Nicole","Benjamin","Helen","Samuel","Samantha","Gregory","Katherine","Alexander","Christine","Frank","Debra","Patrick","Rachel","Raymond","Carolyn","Jack","Janet","Dennis","Catherine","Jerry","Maria","Tyler","Heather"],ze=["Smith","Johnson","Williams","Brown","Jones","Garcia","Miller","Davis","Rodriguez","Martinez","Hernandez","Lopez","Gonzalez","Wilson","Anderson","Thomas","Taylor","Moore","Jackson","Martin","Lee","Perez","Thompson","White","Harris","Sanchez","Clark","Ramirez","Lewis","Robinson","Walker","Young","Allen","King","Wright","Scott","Torres","Nguyen","Hill","Flores","Green","Adams","Nelson","Baker","Hall","Rivera","Campbell","Mitchell","Carter","Roberts","Gomez","Phillips","Evans","Turner","Diaz","Parker","Cruz","Edwards","Collins","Reyes","Stewart","Morris","Morales","Murphy","Cook","Rogers","Gutierrez","Ortiz","Morgan","Cooper","Peterson","Bailey","Reed","Kelly","Howard","Ramos","Kim","Cox","Ward","Richardson","Watson","Brooks","Chavez","Wood","James","Bennett","Gray","Mendoza","Ruiz","Hughes","Price","Alvarez","Castillo","Sanders","Patel","Myers","Long","Ross","Foster","Jimenez"],be=[{name:"Trainee",emoji:"üê£",minXP:0,tipBonus:0,color:"#888888"},{name:"Rookie Pilot",emoji:"üõ´",minXP:100,tipBonus:.05,color:"#66bb6a"},{name:"Delivery Driver",emoji:"üöó",minXP:300,tipBonus:.1,color:"#42a5f5"},{name:"Pizza Pro",emoji:"üçï",minXP:600,tipBonus:.15,color:"#ab47bc"},{name:"Sky Captain",emoji:"‚úàÔ∏è",minXP:1e3,tipBonus:.2,color:"#ff7043"},{name:"Elite Flyer",emoji:"ü¶Ö",minXP:1500,tipBonus:.25,color:"#ffd54f"},{name:"Pizza Master",emoji:"üë®‚Äçüç≥",minXP:2200,tipBonus:.3,color:"#e91e63"},{name:"Drone Legend",emoji:"üèÜ",minXP:3e3,tipBonus:.35,color:"#ff9800"},{name:"Pizza Emperor",emoji:"üëë",minXP:4e3,tipBonus:.4,color:"#f44336"},{name:"PIZZA GOD",emoji:"üåü",minXP:5500,tipBonus:.5,color:"#ffd700"}],ve=e=>{for(let t=be.length-1;t>=0;t--)if(e>=be[t].minXP)return be[t];return be[0]},we=(e,t,r,n,o)=>{if(o)return-150;let i=0;return e>=4.8?(i=50,n&&(i=75)):i=e>=4.5?40:e>=4?30:e>=3.5?20:e>=3?10:e>=2.5?0:e>=2?-25:-50,r<30&&i>0?i+=15:r<45&&i>0?i+=10:r<60&&i>0&&(i+=5),r>=90?(i=Math.min(i,0),i-=30):r>=120&&(i-=50),t<70?i-=20:t<50&&(i-=40),i<0&&(i=Math.floor(1.5*i)),i},Se=(e,t,r)=>{if(e.name===t.name)return null;if(r){const e=[`üéâ PROMOTED to ${t.emoji} ${t.name}! Tips +${Math.round(100*t.tipBonus)}%!`,`üìà RANK UP! You're now a ${t.emoji} ${t.name}! More tips incoming!`,`üåü NICE! ${t.emoji} ${t.name} unlocked! +${Math.round(100*t.tipBonus)}% tip bonus!`,`üöÄ LEVEL UP! Welcome to ${t.emoji} ${t.name}! Tips are getting BIGGER!`];return e[Math.floor(Math.random()*e.length)]}{const e=[`üìâ DEMOTED to ${t.emoji} ${t.name}... Tips reduced to +${Math.round(100*t.tipBonus)}%`,`üò∞ RANK DOWN! Back to ${t.emoji} ${t.name}. Gotta do better!`,`üíî OUCH! Dropped to ${t.emoji} ${t.name}. Less tips now...`,`üîª Demoted to ${t.emoji} ${t.name}. The grind continues...`];return e[Math.floor(Math.random()*e.length)]}},De="pizzaExpress_totalWages",je="pizzaExpress_totalDeliveries",ke="pizzaExpress_totalDestroyed",Te="pizzaExpress_bestTime",Ee="pizzaExpress_playerName",Me="pizzaExpress_xp",Re="pizzaExpress_badges",Pe="pizzaExpress_pizzaTypeDeliveries",Ce="pizzaExpress_perfectDeliveries",Ie="pizzaExpress_totalTips",Ae="pizzaExpress_fastestDelivery",Be="pizzaExpress_storeEarnings",Fe={fastest_delivery:[{rank:1,name:"SpeedDemon",value:12.5,unit:"s"},{rank:2,name:"PizzaPro",value:14.2,unit:"s"},{rank:3,name:"DroneKing",value:15.8,unit:"s"},{rank:4,name:"FastFlyer",value:16.1,unit:"s"},{rank:5,name:"QuickPizza",value:17.3,unit:"s"}],most_deliveries:[{rank:1,name:"Grinder99",value:1523,unit:""},{rank:2,name:"NeverStop",value:1201,unit:""},{rank:3,name:"PizzaBot",value:998,unit:""},{rank:4,name:"Delivery4Life",value:876,unit:""},{rank:5,name:"DroneQueen",value:754,unit:""}],store_earnings:[{rank:1,name:"PizzaTycoon",value:125420,unit:"$"},{rank:2,name:"DeliveryKing",value:98300,unit:"$"},{rank:3,name:"PizzaBoss",value:76800,unit:"$"},{rank:4,name:"TopContributor",value:54650,unit:"$"},{rank:5,name:"StoreHelper",value:32200,unit:"$"}],perfect_pizzas:[{rank:1,name:"SteadyHands",value:892,unit:""},{rank:2,name:"Perfectionist",value:756,unit:""},{rank:3,name:"NoSpill",value:623,unit:""},{rank:4,name:"CarefulOne",value:589,unit:""},{rank:5,name:"GentlePilot",value:512,unit:""}],most_dropped_pizzas:[{rank:1,name:"ButterFingers",value:247,unit:"üçïüí®"},{rank:2,name:"OopsieDoopsie",value:198,unit:"üçïüí®"},{rank:3,name:"Clumsy Carl",value:156,unit:"üçïüí®"},{rank:4,name:"WhoopsieDaisy",value:134,unit:"üçïüí®"},{rank:5,name:"PizzaChaos",value:112,unit:"üçïüí®"}],bestRating:[{rank:1,name:"PerfectPilot",value:5,unit:"‚≠ê"},{rank:2,name:"SteadyEddy",value:4.9,unit:"‚≠ê"},{rank:3,name:"CarefulCarl",value:4.8,unit:"‚≠ê"},{rank:4,name:"GentleGina",value:4.7,unit:"‚≠ê"},{rank:5,name:"SmoothOp",value:4.6,unit:"‚≠ê"}],total_wages:[{rank:1,name:"MoneyMaker",value:1250.5,unit:"$"},{rank:2,name:"TipKing",value:980.25,unit:"$"},{rank:3,name:"PizzaPro",value:756,unit:"$"},{rank:4,name:"SteadyEarner",value:543.75,unit:"$"},{rank:5,name:"JustStarted",value:125,unit:"$"},{rank:6,name:"BreakingEven",value:0,unit:"$"},{rank:7,name:"OopsMyBad",value:-45.5,unit:"$"},{rank:8,name:"PizzaCrasher",value:-156.97,unit:"$"},{rank:9,name:"PizzaFumbler",value:-378.9,unit:"$"},{rank:10,name:"OwesTheBoss",value:-892.45,unit:"$"}],daily_earnings:[{rank:1,name:"TodaysBest",value:450,unit:"$"},{rank:2,name:"DailyGrind",value:380,unit:"$"},{rank:3,name:"MorningRush",value:320,unit:"$"},{rank:4,name:"AfternoonAce",value:290,unit:"$"},{rank:5,name:"NightOwl",value:245,unit:"$"}]},Le=(e,t)=>{let r=0;r=e>=99?3:e>=90?2.7:e>=80?2.4:e>=70?2:e>=60?1.5:e>=50?1:e>=40?.7:.5;let n=0;return n=t<30?2:t<45?1.7:t<60?1.3:t<90?.8:t<120?.3:0,Math.min(5,r+n)},$e=(e,t,r,n)=>{const o=new c,a=new b(e,t),s=new x({color:4352}),l=new i(a,s);o.add(l);const d=document.createElement("canvas");d.width=256,d.height=128;const p=d.getContext("2d"),u=new g(d),h=new x({map:u,transparent:!0,side:f}),m=new i(new b(.9*e,.9*t),h);return m.position.z=.001,o.add(m),o.userData.canvas=d,o.userData.ctx=p,o.userData.texture=u,o.userData.label=n,We(o,r),o},We=(e,t)=>{if(!e.userData.canvas)return;const r=e.userData.canvas,n=e.userData.ctx,o=e.userData.texture,i=e.userData.label||"";n.fillStyle="#001100",n.fillRect(0,0,r.width,r.height),n.fillStyle="#00aa00",n.font="bold 20px monospace",n.textAlign="center",n.fillText(i,r.width/2,30),n.fillStyle="#00ff00",n.font="bold 36px monospace",n.fillText(t,r.width/2,80),o.needsUpdate=!0},He=(e,t,r="#ffffff")=>{if(!e.userData.canvas)return;const n=e.userData.canvas,o=e.userData.ctx,i=e.userData.texture,a=e.userData.fontSize||24;o.clearRect(0,0,n.width,n.height),o.fillStyle=r,o.font=`bold ${a}px Arial`,o.textAlign="center",o.textBaseline="middle",o.fillText(t,n.width/2,n.height/2),i.needsUpdate=!0},Ne=({score:e,pizzasDelivered:t,pizzasDestroyed:r,currentOrder:n,pilotMode:o,cameraView:i,pizzaHealth:a,playerStats:s,dronePosition:l,currentPizzaType:d})=>{const c=n?Y.find(e=>e.num===n.base):null,p=void 0!==s?.xp?(e=>{const t=ve(e),r=be.findIndex(e=>e.name===t.name);if(r>=be.length-1)return{nextRank:null,xpNeeded:0,progress:100};const n=be[r+1],o=e-t.minXP,i=n.minXP-t.minXP,a=Math.min(100,o/i*100);return{nextRank:n,xpNeeded:n.minXP-e,progress:a}})(s.xp):null,u=s?.rank;return V.jsxs("div",{style:{position:"absolute",top:20,left:20,color:"white",fontFamily:"Arial, sans-serif",fontSize:"18px",background:"rgba(0,0,0,0.7)",padding:"15px",borderRadius:"10px",minWidth:"300px",backdropFilter:"blur(5px)"},children:[V.jsx("div",{style:{marginBottom:"10px",fontSize:"24px",fontWeight:"bold",color:"#FFD700"},children:"üçï Pizza Express VR"}),V.jsxs("div",{style:{color:e<0?"#ff4444":"#00ff00"},children:["üíµ Wages: ",e<0?`-$${Math.abs(e).toFixed(2)}`:`$${e.toFixed(2)}`,e<0&&V.jsx("span",{style:{fontSize:"12px",marginLeft:"5px"},children:"üò¨ IN DEBT!"})]}),V.jsxs("div",{children:["üì¶ Deliveries: ",t]}),r>0&&V.jsxs("div",{style:{color:"#ff6666"},children:["üí® Dropped: ",r]}),V.jsxs("div",{style:{marginTop:"8px",padding:"8px",background:"rgba(255,255,255,0.1)",borderRadius:"5px"},children:[V.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[V.jsx("span",{style:{fontSize:"20px"},children:u?.emoji||"üê£"}),V.jsx("span",{style:{color:u?.color||"#888"},children:u?.name||"Trainee"}),u?.tipBonus>0&&V.jsxs("span",{style:{fontSize:"12px",background:"rgba(0,255,100,0.3)",padding:"2px 6px",borderRadius:"3px",color:"#00ff88"},children:["+",Math.round(100*u.tipBonus),"% tips"]})]}),p&&p.nextRank&&V.jsxs("div",{style:{marginTop:"5px"},children:[V.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"10px",color:"#aaa",marginBottom:"2px"},children:[V.jsxs("span",{children:["XP: ",s.xp]}),V.jsxs("span",{children:["Next: ",p.nextRank.emoji," ",p.nextRank.name," (",p.xpNeeded," XP)"]})]}),V.jsx("div",{style:{height:"6px",background:"rgba(255,255,255,0.2)",borderRadius:"3px",overflow:"hidden"},children:V.jsx("div",{style:{height:"100%",width:`${p.progress}%`,background:`linear-gradient(90deg, ${u?.color||"#888"}, ${p.nextRank.color})`,borderRadius:"3px",transition:"width 0.3s ease"}})})]}),p&&!p.nextRank&&V.jsx("div",{style:{fontSize:"10px",color:"#ffd700",marginTop:"3px"},children:"üåü MAX RANK! PIZZA GOD!"})]}),n&&V.jsxs("div",{style:{marginTop:"10px",padding:"10px",background:"rgba(255,215,0,0.2)",borderRadius:"5px"},children:[V.jsx("div",{style:{fontWeight:"bold",color:"#FFD700"},children:"Current Order:"}),n.customerName&&V.jsxs("div",{style:{fontSize:"14px",color:"#00ff88",marginBottom:"5px"},children:["üë§ ",n.customerName]}),d&&V.jsxs("div",{style:{fontSize:"14px",color:d.price>=25?"#ff6666":"#ffcc00",marginBottom:"5px"},children:[d.emoji," ",d.name,V.jsxs("span",{style:{fontSize:"12px",marginLeft:"5px"},children:["($",d.price.toFixed(2),")"]}),d.price>=25&&V.jsx("span",{children:" ‚ö†Ô∏è"})]}),V.jsxs("div",{children:["üöÅ Drone: ",n.drone]}),V.jsxs("div",{children:["üè¢ Base: #",n.base]}),c&&V.jsxs("div",{style:{fontSize:"12px",color:"#aaa"},children:["üìç Rooftop: (",c.x,", ",c.z,")"]})]}),o&&l&&V.jsxs("div",{style:{marginTop:"10px",padding:"8px",background:"rgba(0,150,255,0.2)",borderRadius:"5px",fontSize:"14px"},children:[V.jsx("div",{style:{color:"#00aaff"},children:"üìç Drone Position:"}),V.jsxs("div",{children:["X: ",l.x?.toFixed(1)," | Z: ",l.z?.toFixed(1)]}),V.jsxs("div",{children:["Alt: ",l.y?.toFixed(1),"m"]}),c&&V.jsxs("div",{style:{marginTop:"5px",color:"#00ff88"},children:["üéØ Land on Roof: (",c.x,", ",c.z,")"]})]}),o&&V.jsxs("div",{style:{marginTop:"10px",fontSize:"14px",color:"#aaa"},children:["Camera: ","pov"===i?"POV":"overhead"===i?"Overhead":"Third Person"," (V to switch)"]})]})},Oe=({pizzaHealth:e,pizzaTilt:t})=>{const r=()=>e>=80?"#00ff00":e>=50?"#ffff00":e>=25?"#ff9900":"#ff0000",n=e<100;return V.jsxs("div",{style:{position:"absolute",bottom:80,left:20,background:n?"rgba(80,0,0,0.7)":"rgba(0,0,0,0.5)",padding:"8px 12px",borderRadius:"8px",color:"white",fontFamily:"Arial, sans-serif",border:n?"1px solid #ff4444":"1px solid #333",transition:"all 0.3s"},children:[V.jsx("div",{style:{fontSize:"10px",marginBottom:"4px",color:"#aaa"},children:"üçï PIZZA"}),V.jsx("div",{style:{width:"120px",height:"8px",background:"#333",borderRadius:"4px",overflow:"hidden"},children:V.jsx("div",{style:{width:`${e}%`,height:"100%",background:r(),transition:"width 0.2s"}})}),V.jsxs("div",{style:{fontSize:"10px",marginTop:"3px",display:"flex",justifyContent:"space-between"},children:[V.jsx("span",{style:{color:r()},children:e>=80?"‚úì Good":e>=50?"‚ö† Tilted":"‚ö† Damaged"}),V.jsxs("span",{style:{color:"#666"},children:[Math.round(e),"%"]})]})]})},_e=({speed:e,isWarning:t,pizzaHealth:r})=>{const n=Math.min(100,e/12*100),o=()=>e<7?"#00ff00":e<8.5?"#ffaa00":"#ff0000",i=e>=8.5;return V.jsxs("div",{style:{position:"absolute",bottom:20,left:20,background:i?"rgba(100,0,0,0.7)":"rgba(0,0,0,0.6)",padding:"8px 12px",borderRadius:"8px",color:"white",fontFamily:"Arial, sans-serif",border:i?"2px solid #ff0000":"1px solid #444",transition:"all 0.2s",minWidth:"140px"},children:[V.jsx("div",{style:{fontSize:"10px",marginBottom:"4px",color:"#aaa"},children:"üö∂ SPEED"}),V.jsx("div",{style:{width:"120px",height:"8px",background:"#333",borderRadius:"4px",overflow:"hidden",position:"relative"},children:V.jsx("div",{style:{width:`${n}%`,height:"100%",background:o(),transition:"width 0.1s"}})}),V.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"3px",fontSize:"10px"},children:[V.jsx("span",{style:{color:o(),fontWeight:"bold"},children:e<7?"‚úì SAFE":e<8.5?"‚ö† CAREFUL":"üî• TOO FAST!"}),V.jsx("span",{style:{color:"#666"},children:e.toFixed(1)})]})]})},Ge=({dronePosition:e,targetBase:t,currentOrder:r,altitude:n,verticalSpeed:o})=>{if(!e||!t)return null;const i=t.x-e.x,a=t.z-e.z,s=Math.max(-50,Math.min(50,2*i)),l=Math.max(-40,Math.min(40,2*a)),d=n||1.5,c=Math.min(100,d/50*100),p=o||0;return V.jsxs("div",{style:{position:"absolute",top:20,right:20,width:"220px",background:"rgba(0,0,0,0.85)",border:"2px solid #00ff00",borderRadius:"10px",padding:"10px"},children:[V.jsx("div",{style:{color:"#00ff00",fontSize:"12px",fontWeight:"bold",marginBottom:"5px",textAlign:"center"},children:"üì° GPS NAVIGATION"}),V.jsxs("div",{style:{display:"flex",gap:"10px"},children:[V.jsxs("div",{style:{position:"relative",width:"120px",height:"100px",background:"rgba(0,50,0,0.5)",borderRadius:"5px"},children:[V.jsx("div",{style:{position:"absolute",left:"50%",top:"50%",width:"8px",height:"8px",background:"#00ff00",borderRadius:"50%",transform:"translate(-50%, -50%)",animation:"blink 1s infinite",boxShadow:"0 0 8px #00ff00"}}),V.jsx("div",{style:{position:"absolute",left:`calc(50% + ${s}px)`,top:`calc(50% + ${l}px)`,width:"10px",height:"10px",background:"#ff0000",borderRadius:"50%",transform:"translate(-50%, -50%)",border:"2px solid #fff",animation:"pulse 0.5s infinite"}}),V.jsx("svg",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none"},children:V.jsx("line",{x1:"50%",y1:"50%",x2:`calc(50% + ${s}px)`,y2:`calc(50% + ${l}px)`,stroke:"#00ff00",strokeWidth:"1",strokeDasharray:"4,4",opacity:"0.5"})})]}),V.jsxs("div",{style:{width:"60px",display:"flex",flexDirection:"column",alignItems:"center"},children:[V.jsx("div",{style:{color:"#00ff00",fontSize:"10px",marginBottom:"3px"},children:"ALTITUDE"}),V.jsxs("div",{style:{width:"20px",height:"70px",background:"rgba(0,50,0,0.8)",border:"1px solid #00ff00",borderRadius:"3px",position:"relative",overflow:"hidden"},children:[V.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:`${c}%`,background:`linear-gradient(to top, #004400, ${d>30?"#ffaa00":"#00ff00"})`,transition:"height 0.1s"}}),[10,20,30,40].map(e=>V.jsx("div",{style:{position:"absolute",bottom:e/50*100+"%",left:0,right:0,borderTop:"1px dashed rgba(0,255,0,0.3)"}},e))]}),V.jsxs("div",{style:{color:"#00ff00",fontSize:"14px",fontWeight:"bold",marginTop:"3px"},children:[d.toFixed(1),"m"]}),V.jsxs("div",{style:{color:Math.abs(p)<.5?"#888888":p>0?"#00ff00":"#ff6600",fontSize:"16px",marginTop:"2px"},children:[Math.abs(p)<.5?"‚óè":p>0?"‚ñ≤":"‚ñº",V.jsx("span",{style:{fontSize:"10px",marginLeft:"2px"},children:Math.abs(p).toFixed(1)})]})]})]}),V.jsxs("div",{style:{color:"#00ff00",fontSize:"11px",textAlign:"center",marginTop:"5px"},children:["üéØ Base ",r?.base]})]})},Ve=({distanceToBase:e,canRelease:t,canDescend:r,horizontalDist:n,altitude:o})=>{if(null===e||e>=50)return null;const i=t?{color:"#00ff00",message:"‚úì RELEASE ZONE",subMessage:"Press SPACE to Release Pizza!",pulse:!0}:r?{color:"#00ff00",message:"‚¨áÔ∏è DESCEND NOW",subMessage:`Centered! Land on roof (Alt: ${o?.toFixed(1)||"?"}m ‚Üí 7m)`,pulse:!0}:null!==n?n<5?{color:"#ffff00",message:`‚ÜîÔ∏è ${n.toFixed(1)}m off center`,subMessage:"Get directly OVER the beacon!",pulse:!1}:{color:"#ff9900",message:`üéØ ${Math.floor(e)}m to target`,subMessage:"Fly toward the beacon",pulse:!1}:{color:"#ff6600",message:`${Math.floor(e)}m`,subMessage:"Approach Base",pulse:!1};return V.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"42px",fontWeight:"bold",color:i.color,textShadow:"0 0 20px rgba(0,0,0,0.8)",animation:i.pulse?"pulse 0.5s infinite":"none",pointerEvents:"none",textAlign:"center"},children:[i.message,V.jsx("div",{style:{fontSize:"16px",marginTop:"5px",color:i.color},children:i.subMessage})]})},Ue=({message:e})=>V.jsx("div",{style:{position:"absolute",bottom:120,left:"50%",transform:"translateX(-50%)",color:"white",fontFamily:"Arial, sans-serif",fontSize:"16px",background:"rgba(0,100,200,0.85)",padding:"12px 20px",borderRadius:"10px",maxWidth:"500px",textAlign:"center",backdropFilter:"blur(5px)"},children:e}),qe=({step:e,onNext:t,onSkip:r})=>{const n=Z[e];return n?V.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:100},children:V.jsxs("div",{style:{background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)",padding:"30px",borderRadius:"15px",maxWidth:"450px",textAlign:"center",color:"white",border:"2px solid #00ff00",boxShadow:"0 0 30px rgba(0,255,0,0.3)"},children:[V.jsxs("div",{style:{fontSize:"14px",color:"#00ff00",marginBottom:"10px"},children:["Step ",e+1," of ",Z.length]}),V.jsx("h2",{style:{color:"#FFD700",marginBottom:"15px",fontSize:"24px"},children:n.title}),V.jsx("p",{style:{fontSize:"16px",lineHeight:"1.6",marginBottom:"25px"},children:n.message}),V.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"center"},children:[V.jsx("button",{onClick:r,style:{padding:"10px 20px",background:"#444",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px"},children:"Skip Tutorial"}),V.jsx("button",{onClick:t,style:{padding:"10px 30px",background:"#00ff00",color:"#000",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:e<Z.length-1?"Next ‚Üí":"Start Playing!"})]})]})}):null},Xe=()=>V.jsxs("div",{style:{position:"absolute",bottom:70,left:"50%",transform:"translateX(-50%)",background:"rgba(0,0,0,0.8)",color:"white",padding:"10px 20px",borderRadius:"8px",fontFamily:"Arial, sans-serif",fontSize:"13px"},children:[V.jsx("span",{style:{color:"#FFD700"},children:"W"}),": Forward |",V.jsx("span",{style:{color:"#FFD700"},children:" S"}),": Back |",V.jsx("span",{style:{color:"#FFD700"},children:" A/D"}),": Turn |",V.jsx("span",{style:{color:"#FFD700"},children:" Space"}),": Up |",V.jsx("span",{style:{color:"#FFD700"},children:" Shift"}),": Down |",V.jsx("span",{style:{color:"#FFD700"},children:" V"}),": Camera"]}),Ye=({badge:e})=>e?V.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"linear-gradient(135deg, #4a1a6b 0%, #1a0a2e 100%)",padding:"30px",borderRadius:"20px",textAlign:"center",color:"white",border:"3px solid #9966ff",boxShadow:"0 0 50px #9966ff40, 0 0 100px #6633ff30",animation:"popIn 0.5s ease-out",zIndex:200,minWidth:"300px"},children:[V.jsx("div",{style:{fontSize:"14px",color:"#cc99ff",marginBottom:"10px"},children:"üéñÔ∏è NEW BADGE EARNED! üéñÔ∏è"}),V.jsx("div",{style:{fontSize:"60px",marginBottom:"10px"},children:e.emoji}),V.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#ffd700",marginBottom:"10px"},children:e.name}),V.jsx("div",{style:{fontSize:"14px",color:"#cc99ff",fontStyle:"italic"},children:e.description})]}):null,Je=({message:e})=>{if(!e)return null;const t=e.includes("PROMOTED")||e.includes("RANK UP");return V.jsx("div",{style:{position:"absolute",top:"25%",left:"50%",transform:"translate(-50%, -50%)",background:t?"linear-gradient(135deg, #1a4a2a 0%, #0a2e1a 100%)":"linear-gradient(135deg, #4a1a1a 0%, #2e0a0a 100%)",padding:"20px 40px",borderRadius:"15px",textAlign:"center",color:"white",border:"3px solid "+(t?"#00ff66":"#ff4444"),boxShadow:"0 0 30px "+(t?"#00ff6640":"#ff444440"),animation:"popIn 0.3s ease-out",zIndex:180,fontSize:"18px",fontWeight:"bold"},children:e})},Ke=({isOpen:e,onClose:t,category:r,onCategoryChange:n,playerRank:o,playerScore:i})=>{if(!e)return null;const a=Fe[r]||[],s=e=>{switch(e){case"fastest_delivery":return"‚ö° Fastest Delivery";case"most_deliveries":return"üì¶ Most Deliveries";case"store_earnings":return"üè™ Store Earnings";case"perfect_pizzas":return"‚≠ê Perfect Pizzas";case"most_dropped_pizzas":return"üí® Most Dropped";case"bestRating":return"üåü Best Rating";case"total_wages":return"üíµ Total Wages";case"daily_earnings":return"üìÖ Daily Earnings";default:return e}};return V.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:200},children:V.jsxs("div",{style:{background:"linear-gradient(135deg, #1a1a2e 0%, #0f0f23 100%)",padding:"25px",borderRadius:"15px",minWidth:"400px",maxWidth:"500px",color:"white",border:"2px solid #FFD700",boxShadow:"0 0 40px rgba(255,215,0,0.3)"},children:[V.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[V.jsx("h2",{style:{color:"#FFD700",margin:0,fontSize:"24px"},children:"üèÜ LEADERBOARDS"}),V.jsx("button",{onClick:t,style:{background:"transparent",border:"none",color:"#888",fontSize:"24px",cursor:"pointer"},children:"‚úï"})]}),V.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",marginBottom:"20px"},children:Object.keys(Fe).map(e=>V.jsx("button",{onClick:()=>n(e),style:{padding:"8px 12px",background:r===e?"#FFD700":"#333",color:r===e?"#000":"#fff",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"12px",fontWeight:r===e?"bold":"normal"},children:s(e)},e))}),V.jsx("div",{style:{background:"rgba(0,0,0,0.3)",borderRadius:"10px",padding:"15px"},children:a.map((e,t)=>V.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"10px",borderBottom:t<a.length-1?"1px solid #333":"none",background:t<3?"rgba(255,215,0,0.1)":"transparent"},children:[V.jsx("div",{style:{width:"35px",fontSize:"20px",textAlign:"center"},children:0===t?"ü•á":1===t?"ü•à":2===t?"ü•â":`#${e.rank}`}),V.jsx("div",{style:{flex:1,paddingLeft:"10px",fontWeight:t<3?"bold":"normal"},children:e.name}),V.jsx("div",{style:{color:e.value<0?"#ff4444":t<3?"#FFD700":"#aaa",fontWeight:"bold",fontSize:"16px"},children:"$"===e.unit?e.value<0?`-$${Math.abs(e.value).toLocaleString()}`:`$${e.value.toLocaleString()}`:"s"===e.unit?`${e.value}s`:e.value.toLocaleString()})]},t))}),o&&V.jsxs("div",{style:{marginTop:"15px",padding:"12px",background:"rgba(0,255,0,0.1)",borderRadius:"8px",border:"1px solid #00ff00",display:"flex",alignItems:"center"},children:[V.jsx("div",{style:{fontSize:"16px",marginRight:"10px"},children:"üìç"}),V.jsxs("div",{style:{flex:1},children:[V.jsx("div",{style:{fontSize:"12px",color:"#888"},children:"Your Position"}),V.jsxs("div",{style:{fontWeight:"bold"},children:["#",o]})]}),V.jsx("div",{style:{color:"#00ff00",fontWeight:"bold",fontSize:"18px"},children:i})]}),V.jsx("div",{style:{marginTop:"15px",fontSize:"11px",color:"#666",textAlign:"center"},children:"daily_earnings"===r?"‚è∞ Resets daily at midnight":"üîÑ Weekly reset every Sunday"})]})})},Ze=({topPlayers:e,playerRank:t,onExpand:r})=>V.jsxs("div",{style:{position:"absolute",bottom:20,right:20,background:"rgba(0,0,0,0.8)",padding:"12px",borderRadius:"10px",minWidth:"180px",color:"white",fontFamily:"Arial, sans-serif"},children:[V.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px",borderBottom:"1px solid #333",paddingBottom:"8px"},children:[V.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#FFD700"},children:"üèÜ Top Players"}),V.jsx("button",{onClick:r,style:{background:"transparent",border:"1px solid #FFD700",color:"#FFD700",padding:"2px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"10px"},children:"View All"})]}),e?.slice(0,3).map((e,t)=>V.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",padding:"3px 0",color:0===t?"#FFD700":"#aaa"},children:[V.jsxs("span",{children:[0===t?"ü•á":1===t?"ü•à":"ü•â"," ",e.name]}),V.jsx("span",{children:e.value})]},t)),t&&V.jsxs("div",{style:{marginTop:"8px",paddingTop:"8px",borderTop:"1px solid #333",fontSize:"11px",color:"#00ff00"},children:["üìç You: #",t]})]}),Qe=({deliveryTime:e,tip:t,pizzaHealth:r,isPerfect:n,temperature:o,rating:i,tipMessage:a,pizzaType:s,xpChange:l,rankBonus:d,playerRank:c,totalDeliveries:p,onNextOrder:u,onViewLeaderboard:h})=>{const x=((e,t)=>{const r=(e>=99?3:e>=80?2.5:e>=60?2:e>=40?1:.5)+(t<30?2:t<45?1.5:t<60?1:t<90?.5:0);return r>=4.5?{label:"LEGENDARY",emoji:"üåüüåüüåüüåüüåü",color:"#FFD700"}:r>=4?{label:"EXCELLENT",emoji:"‚≠ê‚≠ê‚≠ê‚≠ê‚ú®",color:"#00ff00"}:r>=3.5?{label:"GREAT",emoji:"‚≠ê‚≠ê‚≠ê‚≠ê",color:"#88ff00"}:r>=3?{label:"GOOD",emoji:"‚≠ê‚≠ê‚≠ê‚ú®",color:"#ccff00"}:r>=2.5?{label:"OKAY",emoji:"‚≠ê‚≠ê‚≠ê",color:"#ffff00"}:r>=2?{label:"MEH",emoji:"‚≠ê‚≠ê‚ú®",color:"#ffcc00"}:r>=1.5?{label:"POOR",emoji:"‚≠ê‚≠ê",color:"#ff9900"}:r>=1?{label:"BAD",emoji:"‚≠ê‚ú®",color:"#ff6600"}:{label:"DISASTER",emoji:"üíÄ",color:"#ff0000"}})(r,e),f=o||{temp:e<30?"PIPING HOT":e<45?"HOT":e<60?"WARM":e<90?"LUKEWARM":"COLD",emoji:e<30?"üî•üî•üî•":e<45?"üî•üî•":e<60?"üî•":e<90?"üòê":"ü•∂",color:e<30?"#ff4400":e<45?"#ff6600":e<60?"#ff9900":e<90?"#ffcc00":"#0099ff"},m=0===t;return V.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:150},children:V.jsxs("div",{style:{background:m?"linear-gradient(135deg, #4a1a1a 0%, #2d0d0d 100%)":"linear-gradient(135deg, #1a472a 0%, #0d2818 100%)",padding:"30px",borderRadius:"20px",textAlign:"center",color:"white",border:`3px solid ${m?"#ff4444":x.color}`,boxShadow:"0 0 50px "+(m?"#ff444440":x.color+"40"),animation:"popIn 0.3s ease-out",minWidth:"400px"},children:[s&&V.jsxs("div",{style:{fontSize:"14px",color:"#ffcc00",marginBottom:"10px"},children:[s.emoji," ",s.name]}),V.jsx("div",{style:{fontSize:"50px",marginBottom:"5px"},children:m?"üò§":n?"üåü":r>=80?"‚úÖ":r>=50?"üòÖ":"üò¨"}),V.jsx("h2",{style:{color:m?"#ff4444":x.color,fontSize:"28px",marginBottom:"5px"},children:m?"DELIVERY... COMPLETE?":n?"PERFECT DELIVERY!":"DELIVERY COMPLETE!"}),V.jsxs("div",{style:{background:"rgba(0,0,0,0.4)",padding:"15px",borderRadius:"12px",marginBottom:"15px"},children:[V.jsx("div",{style:{fontSize:"32px",letterSpacing:"3px",marginBottom:"5px"},children:x.emoji}),V.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",color:x.color,letterSpacing:"2px"},children:x.label})]}),V.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"10px",marginBottom:"15px"},children:[V.jsxs("div",{style:{background:"rgba(0,0,0,0.3)",padding:"10px",borderRadius:"8px"},children:[V.jsx("div",{style:{fontSize:"11px",color:"#888"},children:"‚è±Ô∏è Time"}),V.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold"},children:[e.toFixed(1),"s"]})]}),V.jsxs("div",{style:{background:"rgba(0,0,0,0.3)",padding:"10px",borderRadius:"8px"},children:[V.jsx("div",{style:{fontSize:"11px",color:"#888"},children:"üçï Condition"}),V.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:r>=80?"#00ff00":r>=50?"#ffcc00":"#ff6600"},children:[Math.round(r),"%"]})]}),V.jsxs("div",{style:{background:"rgba(0,0,0,0.3)",padding:"10px",borderRadius:"8px"},children:[V.jsx("div",{style:{fontSize:"11px",color:"#888"},children:"üå°Ô∏è Temp"}),V.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",color:f.color},children:f.emoji}),V.jsx("div",{style:{fontSize:"10px",color:f.color},children:f.temp})]})]}),V.jsx("div",{style:{fontSize:m?"28px":"36px",fontWeight:"bold",color:m?"#ff4444":"#FFD700",marginBottom:"5px"},children:m?"üò§ NO TIP!":`üí∞ +$${t.toFixed(2)} TIP!`}),a&&V.jsxs("div",{style:{fontSize:"14px",color:m?"#ff9999":t<3?"#ffcc99":"#99ff99",marginBottom:"10px",fontStyle:"italic",padding:"8px",background:"rgba(0,0,0,0.3)",borderRadius:"8px"},children:["üí¨ ",a]}),V.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"15px",marginBottom:"15px"},children:[void 0!==l&&0!==l&&V.jsxs("div",{style:{background:l>0?"rgba(0,255,100,0.2)":"rgba(255,0,0,0.2)",border:"1px solid "+(l>0?"#00ff66":"#ff4444"),padding:"8px 15px",borderRadius:"8px"},children:[V.jsx("div",{style:{fontSize:"11px",color:"#888"},children:"‚≠ê XP"}),V.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:l>0?"#00ff66":"#ff4444"},children:[l>0?"+":"",l]})]}),d>0&&V.jsxs("div",{style:{background:"rgba(255,215,0,0.2)",border:"1px solid #FFD700",padding:"8px 15px",borderRadius:"8px"},children:[V.jsx("div",{style:{fontSize:"11px",color:"#888"},children:"üëë Rank Bonus"}),V.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#FFD700"},children:["+",Math.round(100*d),"%"]})]})]}),c&&V.jsx("div",{style:{background:"rgba(100,50,200,0.2)",border:"1px solid #9966ff",padding:"8px 15px",borderRadius:"8px",marginBottom:"10px"},children:V.jsxs("div",{style:{fontSize:"16px",color:"#cc99ff"},children:[c.emoji," ",c.name]})}),V.jsxs("div",{style:{fontSize:"14px",color:"#888",marginBottom:"20px"},children:["Total Deliveries: ",p]}),V.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"center"},children:[V.jsx("button",{onClick:h,style:{padding:"12px 24px",background:"#333",color:"#FFD700",border:"1px solid #FFD700",borderRadius:"8px",cursor:"pointer",fontSize:"14px"},children:"üèÜ Leaderboard"}),V.jsx("button",{onClick:u,style:{padding:"12px 30px",background:"#00ff00",color:"#000",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},children:"Next Order ‚Üí"})]})]})})},et={primary:{padding:"15px 30px",fontSize:"18px",fontWeight:"bold",background:"#4CAF50",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",boxShadow:"0 4px 8px rgba(0,0,0,0.3)",transition:"all 0.2s ease"},secondary:{padding:"12px 24px",fontSize:"16px",fontWeight:"bold",background:"#555",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",boxShadow:"0 4px 8px rgba(0,0,0,0.3)"},danger:{padding:"15px 30px",fontSize:"18px",fontWeight:"bold",background:"#FF5722",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",boxShadow:"0 4px 8px rgba(0,0,0,0.3)"}},tt=()=>{const t=e.useRef(null),[r,a]=e.useState("menu"),[d,F]=e.useState(null),[L,$]=e.useState(0),[W,H]=e.useState(0),[N,O]=e.useState(0),[_,G]=e.useState("Welcome to Pizza Express VR!"),[U,q]=e.useState(!1),[tt,rt]=e.useState(null),[nt,ot]=e.useState("third"),[it,at]=e.useState(null),[st,lt]=e.useState(!1),[dt,ct]=e.useState(!1),[pt,ut]=e.useState(null),[ht,xt]=e.useState("ascending"),[ft,mt]=e.useState(!1),[gt,yt]=e.useState(null),[zt,bt]=e.useState(!1),[vt,wt]=e.useState(!1),[St,Dt]=e.useState(null),[jt,kt]=e.useState(null),[Tt,Et]=e.useState(100),[Mt,Rt]=e.useState({x:0,z:0}),[Pt,Ct]=e.useState(!1),[It,At]=e.useState(0),[Bt,Ft]=e.useState(!1),[Lt,$t]=e.useState("fastest_delivery"),[Wt,Ht]=e.useState(!1),[Nt,Ot]=e.useState(null),[_t,Gt]=e.useState(null),[Vt,Ut]=e.useState({totalDeliveries:0,totalEarnings:0,destroyedPizzas:0,bestTime:null,rank:be[0],xp:0,level:1,badges:[],pizzaTypeDeliveries:{},perfectDeliveries:0,totalTips:0,fastestDelivery:null,storeEarnings:0}),[qt,Xt]=e.useState(null),[Yt,Jt]=e.useState(null),[Kt,Zt]=e.useState(!1),[Qt,er]=e.useState(!1),[tr,rr]=e.useState(!1),nr=e.useRef(null),or=e.useRef(100),ir=e.useRef(!1),ar=e.useRef(null),sr=e.useRef(null),lr=e.useRef(null),dr=e.useRef(!1),cr=e.useRef(!1),pr=e.useRef(null),ur=e.useRef(0),hr=e.useRef(0),xr=e.useRef({scene:null,camera:null,renderer:null,drones:[],bases:[],pizzaShop:null,currentDrone:null,pizzaAttached:!1,controls:{forward:!1,back:!1,left:!1,right:!1,up:!1,down:!1},lastDroneVelocity:{x:0,y:0,z:0},xrManager:null,vrButton:null,player:null,playerPizza:null,playerControls:{forward:!1,back:!1,left:!1,right:!1},lastPlayerVelocity:{x:0,z:0},sustainedSpeed:0,lastMoveTime:0,moveAccumulator:0}),[fr,mr]=e.useState({x:0,y:0,z:10}),[gr,yr]=e.useState(null),[zr,br]=e.useState(!1),[vr,wr]=e.useState(1.5),[Sr,Dr]=e.useState(0),[jr,kr]=e.useState(0),[Tr,Er]=e.useState(!1);e.useEffect(()=>{ir.current=U},[U]),e.useEffect(()=>{lr.current=d},[d]),e.useEffect(()=>{dr.current=ft},[ft]),e.useEffect(()=>{cr.current=zr},[zr]),e.useEffect(()=>{pr.current=gr},[gr]),e.useEffect(()=>{ur.current=L},[L]),e.useEffect(()=>{hr.current=W},[W]),e.useEffect(()=>{const e=(()=>{try{const e=parseInt(localStorage.getItem(Me))||0,t=ve(e),r=localStorage.getItem(Re),n=localStorage.getItem(Pe);return{totalWages:parseFloat(localStorage.getItem(De))||0,totalDeliveries:parseInt(localStorage.getItem(je))||0,totalDestroyed:parseInt(localStorage.getItem(ke))||0,bestTime:parseFloat(localStorage.getItem(Te))||null,playerName:localStorage.getItem(Ee)||"Rookie Pilot",xp:e,rank:t,badges:r?JSON.parse(r):[],pizzaTypeDeliveries:n?JSON.parse(n):{},perfectDeliveries:parseInt(localStorage.getItem(Ce))||0,totalTips:parseFloat(localStorage.getItem(Ie))||0,fastestDelivery:parseFloat(localStorage.getItem(Ae))||null,storeEarnings:parseFloat(localStorage.getItem(Be))||0}}catch(e){return console.warn("Could not load persistent data:",e),{totalWages:0,totalDeliveries:0,totalDestroyed:0,bestTime:null,playerName:"Rookie Pilot",xp:0,rank:be[0],badges:[],pizzaTypeDeliveries:{},perfectDeliveries:0,totalTips:0,fastestDelivery:null,storeEarnings:0}}})();$(e.totalWages),H(e.totalDeliveries),O(e.totalDestroyed);const t=ve(e.xp);Ut(r=>({...r,totalDeliveries:e.totalDeliveries,totalEarnings:e.totalWages,destroyedPizzas:e.totalDestroyed,bestTime:e.bestTime,xp:e.xp,rank:t,badges:e.badges||[],pizzaTypeDeliveries:e.pizzaTypeDeliveries||{},perfectDeliveries:e.perfectDeliveries||0,totalTips:e.totalTips||0,fastestDelivery:e.fastestDelivery||null,storeEarnings:e.storeEarnings||0})),Zt(!0),e.totalWages<0?G(`üí∏ Welcome back! You owe the shop $${Math.abs(e.totalWages).toFixed(2)}. Time to work it off!`):t.tipBonus>0&&G(`${t.emoji} Welcome back, ${t.name}! +${Math.round(100*t.tipBonus)}% tip bonus!`)},[]),e.useEffect(()=>{Kt&&(e=>{try{void 0!==e.totalWages&&localStorage.setItem(De,e.totalWages.toString()),void 0!==e.totalDeliveries&&localStorage.setItem(je,e.totalDeliveries.toString()),void 0!==e.totalDestroyed&&localStorage.setItem(ke,e.totalDestroyed.toString()),void 0!==e.bestTime&&null!==e.bestTime&&localStorage.setItem(Te,e.bestTime.toString()),void 0!==e.playerName&&localStorage.setItem(Ee,e.playerName),void 0!==e.xp&&localStorage.setItem(Me,e.xp.toString()),void 0!==e.badges&&localStorage.setItem(Re,JSON.stringify(e.badges)),void 0!==e.pizzaTypeDeliveries&&localStorage.setItem(Pe,JSON.stringify(e.pizzaTypeDeliveries)),void 0!==e.perfectDeliveries&&localStorage.setItem(Ce,e.perfectDeliveries.toString()),void 0!==e.totalTips&&localStorage.setItem(Ie,e.totalTips.toString()),void 0!==e.fastestDelivery&&null!==e.fastestDelivery&&localStorage.setItem(Ae,e.fastestDelivery.toString()),void 0!==e.storeEarnings&&localStorage.setItem(Be,e.storeEarnings.toString())}catch(t){console.warn("Could not save persistent data:",t)}})({totalWages:L,totalDeliveries:W,totalDestroyed:N,bestTime:Vt.bestTime,xp:Vt.xp,badges:Vt.badges,pizzaTypeDeliveries:Vt.pizzaTypeDeliveries,perfectDeliveries:Vt.perfectDeliveries,totalTips:Vt.totalTips,fastestDelivery:Vt.fastestDelivery,storeEarnings:Vt.storeEarnings})},[L,W,N,Vt.bestTime,Vt.xp,Vt.badges,Vt.pizzaTypeDeliveries,Vt.perfectDeliveries,Vt.totalTips,Vt.fastestDelivery,Vt.storeEarnings,Kt]),e.useEffect(()=>{if(!t.current)return;const e=new k;e.background=new T(Q),e.fog=new E(Q,50,200);const r=new M(75,window.innerWidth/window.innerHeight,.1,1e3);r.position.set(0,15,30),r.lookAt(0,0,0);const a=new c;a.add(r),e.add(a),xr.current.vrPlayerRig=a;const F=new R({antialias:!0,powerPreference:"high-performance",alpha:!1});F.setSize(window.innerWidth,window.innerHeight),F.setPixelRatio(Math.min(window.devicePixelRatio,2)),F.shadowMap.enabled=!0,F.shadowMap.type=P,F.xr.enabled=!0,t.current.appendChild(F.domElement);(async()=>{const n=await ce();if(er(n.supported),n.supported){const n=new pe(F,e,r,a);await n.init(),n.onControllerInput=e=>{if("selectstart"===e.type&&(ir.current?Lr():lr.current&&!dr.current&&cr.current&&sr.current?.()),"squeezestart"===e.type&&lr.current&&!ir.current&&dr.current){const e=pr.current;e&&Fr(e)}},nr.current=n,xr.current.xrManager=n;const o=((e,t,r)=>{const n=document.createElement("button");return n.style.cssText="\n    position: absolute;\n    bottom: 20px;\n    left: 50%;\n    transform: translateX(-50%);\n    padding: 15px 30px;\n    border: none;\n    border-radius: 8px;\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    color: white;\n    font-size: 16px;\n    font-weight: bold;\n    cursor: pointer;\n    z-index: 1000;\n    transition: all 0.3s ease;\n    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);\n  ",n.onmouseover=()=>{n.style.transform="translateX(-50%) scale(1.05)",n.style.boxShadow="0 6px 20px rgba(102, 126, 234, 0.6)"},n.onmouseout=()=>{n.style.transform="translateX(-50%) scale(1)",n.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},(async()=>{if(!(await ce()).supported)return n.textContent="üö´ VR Not Supported",n.disabled=!0,n.style.background="#666",void(n.style.cursor="not-allowed");n.textContent="ü•Ω Enter VR",n.onclick=async()=>{if(e.xr.isPresenting)await e.xr.getSession().end(),n.textContent="ü•Ω Enter VR",r&&r();else try{const o=await navigator.xr.requestSession("immersive-vr",{requiredFeatures:["local-floor"],optionalFeatures:["bounded-floor","hand-tracking","layers"]});e.xr.setSession(o),n.textContent="‚ùå Exit VR",t&&t(),o.addEventListener("end",()=>{n.textContent="ü•Ω Enter VR",r&&r()})}catch(o){console.error("Failed to start VR:",o)}}})(),n})(F,()=>{rr(!0),nr.current&&(nr.current.isInVR=!0);const e=xr.current.vrPlayerRig,t=xr.current.player,r=xr.current.camera,n=t?t.position.x:0,o=t?t.position.z:12,i=t?t.rotation.y:Math.PI;e&&(e.position.set(n,0,o),e.rotation.y=i,console.log("VR Rig positioned at:",e.position)),xr.current.vrHUD&&r&&(xr.current.vrHUD.visible=!0,r.add(xr.current.vrHUD),xr.current.vrHUD.position.set(0,-.2,-.8),xr.current.vrHUD.rotation.set(0,0,0)),console.log("VR Session Started - Auto-starting game!"),setTimeout(()=>{ar.current?.()},100)},()=>{if(rr(!1),nr.current&&(nr.current.isInVR=!1),xr.current.vrHUD){xr.current.vrHUD.visible=!1;const e=xr.current.scene;xr.current.vrHUD.parent!==e&&e.add(xr.current.vrHUD)}});o.id="vr-button",t.current.appendChild(o),xr.current.vrButton=o}})();const L=new C(16777215,.6);e.add(L);const $=new I(16777215,.8);$.position.set(50,50,50),$.castShadow=!0,$.shadow.mapSize.width=2048,$.shadow.mapSize.height=2048,$.shadow.camera.near=.5,$.shadow.camera.far=500,$.shadow.camera.left=-50,$.shadow.camera.right=50,$.shadow.camera.top=50,$.shadow.camera.bottom=-50,e.add($);const W=new b(200,200),H=new o({color:ee}),N=new i(W,H);N.rotation.x=-Math.PI/2,N.receiveShadow=!0,e.add(N);const O=new A(200,40,0,5592405);e.add(O);const _=(()=>{const e=new c,t=new p(6,4,6),r=new o({color:te}),n=new i(t,r);n.position.y=2,n.castShadow=!0,e.add(n);const a=new u(5,2,4),s=new o({color:13382451}),l=new i(a,s);l.position.y=5,l.rotation.y=Math.PI/4,e.add(l);const d=new p(7,1,.2),m=new o({color:re}),g=new i(d,m);g.position.set(0,5,3.1),e.add(g);const y=new p(1.5,2.5,.1),z=new o({color:9127187}),b=new i(y,z);b.position.set(0,1.25,3.05),e.add(b);const v=new p(1,1,.1),w=new o({color:8900331,transparent:!0,opacity:.6});[-1.5,1.5].forEach(t=>{const r=new i(v,w);r.position.set(t,2.5,3.05),e.add(r)});const S=new p(2,1,1),D=new o({color:9127187}),j=new i(S,D);j.position.set(0,.5,2),j.castShadow=!0,e.add(j);const k=new h(1,1.5,32),T=new x({color:65280,transparent:!0,opacity:.7,side:f}),E=new i(k,T);E.rotation.x=-Math.PI/2,E.position.set(0,.05,4),E.userData.isPickupTrigger=!0,e.add(E);const M=new u(.3,.6,8),R=new x({color:65280}),P=new i(M,R);P.position.set(0,2.5,4),P.rotation.x=Math.PI,e.add(P);const C=new p(1.5,.4,.1),I=new o({color:43520}),A=new i(C,I);return A.position.set(0,3.2,4),e.add(A),e})();e.add(_),xr.current.pizzaShop=_,X.forEach(t=>{const r=(()=>{const e=new c,t=new n(3,3,.3,32),r=new o({color:ne}),a=new i(t,r);a.position.y=.15,a.receiveShadow=!0,e.add(a);const s=new h(2,2.2,32),l=new x({color:16776960,side:f}),d=new i(s,l);return d.rotation.x=-Math.PI/2,d.position.y=.31,e.add(d),e})();r.position.set(t.x,0,t.z),e.add(r);const a=(()=>{const e=new c,t=new p(1.5,.3,1.5),r=new o({color:ae}),a=new i(t,r);a.castShadow=!0,e.add(a),[{x:.8,z:.8},{x:-.8,z:.8},{x:.8,z:-.8},{x:-.8,z:-.8}].forEach(t=>{const r=new n(.05,.05,.8,8),a=new o({color:se}),s=new i(r,a);s.position.set(t.x,0,t.z),e.add(s);const l=new n(.5,.5,.05,32),d=new o({color:le,transparent:!0,opacity:.7}),c=new i(l,d);c.position.set(t.x,.5,t.z),c.userData.isRotor=!0,e.add(c)});const s=new m(.1,16,16),l=new x({color:65280}),d=new i(s,l);return d.position.set(0,.2,.7),d.userData.isLED=!0,e.add(d),e})(t.label);a.position.set(t.x,1.5,t.z),a.userData={label:t.label,homePos:new s(t.x,1.5,t.z),hasPizza:!1,targetBase:null},e.add(a),xr.current.drones.push(a);const l=((e,t="#ffffff",r=2)=>{const n=document.createElement("canvas"),o=n.getContext("2d");n.width=128,n.height=128,o.fillStyle=t,o.font="bold 80px Arial",o.textAlign="center",o.textBaseline="middle",o.fillText(e,64,64);const i=new g(n),a=new y({map:i}),s=new z(a);return s.scale.set(r,r,1),s})(t.label);l.position.set(t.x,4,t.z),e.add(l)}),Y.forEach(t=>{const r=(e=>{const t=new c,r=6.5,a=new n(.3,.8,30,16,1,!0),s=new x({color:65416,transparent:!0,opacity:.15,side:f}),l=new i(a,s);l.position.set(0,21.5,0),l.userData.isBeacon=!0,l.visible=!1,t.add(l),[15,22,30,40].forEach((e,n)=>{const o=new h(2-.2*n,2.5-.2*n,32),a=new x({color:65416,transparent:!0,opacity:.4-.08*n,side:f}),s=new i(o,a);s.rotation.x=-Math.PI/2,s.position.set(0,r+e,0),s.userData.isHalo=!0,s.visible=!1,t.add(s)});const d=new m(.6,16,16),u=new x({color:65280,transparent:!0,opacity:.8}),b=new i(d,u);b.position.set(0,51.5,0),b.userData.isPulsingMarker=!0,b.visible=!1,t.add(b),t.userData.landingPadHeight=r;const v=new p(5,6,5),w=new o({color:oe}),S=new i(v,w);S.position.y=3,S.castShadow=!0,S.userData={baseNumber:e},t.add(S);const D=new p(5.5,.3,5.5),j=new o({color:1668818}),k=new i(D,j);k.position.y=6.15,t.add(k);const T=new n(.05,.05,1.5,8),E=new o({color:3355443}),M=new i(T,E);M.position.set(2,7,2),t.add(M);const R=new n(2,2,.2,32),P=new o({color:ie}),C=new i(R,P);C.position.y=6.35,C.userData.isLandingPad=!0,t.add(C),[1.5,1,.5].forEach((e,r)=>{const n=new h(e-.05,e,32),o=new x({color:r%2==0?16777215:65280,side:f}),a=new i(n,o);a.rotation.x=-Math.PI/2,a.position.y=6.36,t.add(a)});const I=document.createElement("canvas"),A=I.getContext("2d");I.width=128,I.height=128,A.fillStyle="#ffffff",A.font="bold 80px Arial",A.textAlign="center",A.textBaseline="middle",A.fillText(e.toString(),64,64);const B=new g(I),F=new y({map:B}),L=new z(F);return L.position.y=8,L.scale.set(3,3,1),t.add(L),t})(t.num);r.position.set(t.x,0,t.z),r.userData={baseNumber:t.num},e.add(r),xr.current.bases.push(r)});const V=new c,U=new B(.3,1,8,16),q=new o({color:4491519}),Z=new i(U,q);Z.position.y=1,Z.castShadow=!0,V.add(Z);const de=new u(.15,.3,8),ue=new x({color:16776960}),he=new i(de,ue);he.rotation.x=Math.PI/2,he.position.set(0,1,.5),V.add(he),V.position.set(0,0,12),V.rotation.y=Math.PI,V.userData.isPlayer=!0,e.add(V),xr.current.player=V;const xe=(()=>{const e=new c;e.userData.isVRHUD=!0;const t=new b(.6,.4),r=new x({color:0,transparent:!0,opacity:.7,side:f}),n=new i(t,r);n.userData.isHUDPanel=!0,e.add(n);const o=new v(t),a=new l({color:16766720}),s=new w(o,a);e.add(s);const d=(e,t,r,n=32)=>{const o=document.createElement("canvas");o.width=512,o.height=128;const a=o.getContext("2d"),s=new g(o);s.needsUpdate=!0;const l=new x({map:s,transparent:!0,side:f}),d=new b(e,t),c=new i(d,l);return c.userData.canvas=o,c.userData.ctx=a,c.userData.texture=s,c.userData.fontSize=n,He(c,r),c},p=d(.5,.08,"üçï Pizza Express VR",28);p.position.set(0,.14,.01),p.userData.textType="title",e.add(p);const u=d(.5,.06,"üíµ Wages: $0.00",24);u.position.set(0,.06,.01),u.userData.textType="wages",e.add(u);const h=d(.5,.06,"üì¶ Deliveries: 0",24);h.position.set(0,0,.01),h.userData.textType="deliveries",e.add(h);const m=d(.5,.06,"üìç No order yet",22);m.position.set(0,-.06,.01),m.userData.textType="order",e.add(m);const y=new b(.4,.03),z=new x({color:3355443}),S=new i(y,z);S.position.set(0,-.12,.01),e.add(S);const D=new b(.4,.03),j=new x({color:65280}),k=new i(D,j);k.position.set(0,-.12,.02),k.userData.isHealthBar=!0,e.add(k);const T=d(.3,.04,"üçï 100%",20);return T.position.set(0,-.16,.01),T.userData.textType="health",e.add(T),e.visible=!1,e})();e.add(xe),xr.current.vrHUD=xe;const fe=(()=>{const e=new c;e.userData.isCockpit=!0;const t=new S;t.moveTo(-.4,0),t.lineTo(.4,0),t.lineTo(.35,.15),t.lineTo(-.35,.15),t.closePath();const r=new D(t,{depth:.02,bevelEnabled:!1}),n=new o({color:2236962,metalness:.8,roughness:.3}),a=new i(r,n);a.rotation.x=-Math.PI/6,a.position.set(0,-.15,-.5),e.add(a);const s=$e(.12,.08,"0 m/s","SPEED");s.position.set(-.2,-.08,-.48),s.rotation.x=-Math.PI/6,s.userData.displayType="speed",e.add(s);const l=$e(.15,.08,"0 m","ALT");l.position.set(0,-.08,-.48),l.rotation.x=-Math.PI/6,l.userData.displayType="altitude",e.add(l);const d=$e(.12,.08,"100%","PIZZA");d.position.set(.2,-.08,-.48),d.rotation.x=-Math.PI/6,d.userData.displayType="health",e.add(d);const u=new h(.02,.025,32),m=new x({color:65280,transparent:!0,opacity:.7,side:f}),g=new i(u,m);g.position.set(0,0,-1),e.add(g);const y=new j(.005,16),z=new x({color:65280,side:f}),b=new i(y,z);b.position.set(0,0,-.99),e.add(b);const v=new p(.02,.3,.02),w=new o({color:3355443,metalness:.9}),k=new i(v,w);k.position.set(-.35,0,-.3),e.add(k);const T=new i(v,w);return T.position.set(.35,0,-.3),e.add(T),e.visible=!1,e})();r.add(fe),xr.current.droneCockpit=fe,r.position.set(0,6,20),r.lookAt(0,2,0),xr.current.scene=e,xr.current.camera=r,xr.current.renderer=F,performance.now();F.setAnimationLoop((t,n)=>{if(F.xr.isPresenting){const e=nr.current.pollControllerInput();if(e){const t=e.right.thumbstick,r=e.left.thumbstick;ir.current?(Math.abs(t.y)>.1?(xr.current.controls.forward=t.y<-.1,xr.current.controls.back=t.y>.1):(xr.current.controls.forward=!1,xr.current.controls.back=!1),Math.abs(t.x)>.1?(xr.current.controls.right=t.x>.1,xr.current.controls.left=t.x<-.1):(xr.current.controls.left=!1,xr.current.controls.right=!1),Math.abs(r.y)>.1?(xr.current.controls.up=r.y<-.1,xr.current.controls.down=r.y>.1):(xr.current.controls.up=!1,xr.current.controls.down=!1)):(Math.abs(r.y)>.15?(xr.current.playerControls.forward=r.y<-.15,xr.current.playerControls.back=r.y>.15):(xr.current.playerControls.forward=!1,xr.current.playerControls.back=!1),Math.abs(t.x)>.15?(xr.current.playerControls.right=t.x>.15,xr.current.playerControls.left=t.x<-.15):(xr.current.playerControls.left=!1,xr.current.playerControls.right=!1))}if(Rr(r,xr.current,ir.current),xr.current.vrHUD&&xr.current.vrHUD.visible&&((e,t)=>{e&&e.children.forEach(e=>{const r=e.userData.textType;if("wages"===r){const r=t.score<0?`üíµ Wages: -$${Math.abs(t.score).toFixed(2)}`:`üíµ Wages: $${t.score.toFixed(2)}`,n=t.score<0?"#ff4444":"#00ff00";He(e,r,n)}if("deliveries"===r&&He(e,`üì¶ Deliveries: ${t.pizzasDelivered}`),"order"===r)if(t.currentOrder){const r=t.currentOrder;He(e,`üìç ${r.pizzaType?.emoji||"üçï"} ‚Üí Base ${r.base}`,"#FFD700")}else He(e,"üìç Get a pizza from the shop!","#aaaaaa");if("health"===r){const r=t.pizzaHealth>70?"#00ff00":t.pizzaHealth>40?"#ffff00":"#ff4444";He(e,`üçï ${Math.round(t.pizzaHealth)}%`,r)}if(e.userData.isHealthBar){const r=t.pizzaHealth/100;e.scale.x=Math.max(.01,r),e.position.x=-.2*(1-r),t.pizzaHealth>70?e.material.color.setHex(65280):t.pizzaHealth>40?e.material.color.setHex(16776960):e.material.color.setHex(16729156)}})})(xr.current.vrHUD,{score:ur.current,pizzasDelivered:hr.current,currentOrder:lr.current,pizzaHealth:or.current}),xr.current.droneCockpit){const e=xr.current.droneCockpit,t=ir.current&&xr.current.currentDrone;if(t!==e.visible&&(e.visible=t),e.visible&&xr.current.currentDrone){const t=xr.current.currentDrone,r=xr.current.lastDroneVelocity||{x:0,z:0};((e,t)=>{e&&e.children.forEach(e=>{const r=e.userData.displayType;if("speed"===r){const r=Math.round(t.speed||0);We(e,`${r} m/s`)}if("altitude"===r){const r=Math.round(t.altitude||0);We(e,`${r} m`)}if("health"===r){const r=Math.round(t.pizzaHealth||100);if(e.userData.canvas){const t=e.userData.ctx;t.fillStyle="#001100",t.fillRect(0,0,256,128),t.fillStyle="#00aa00",t.font="bold 20px monospace",t.textAlign="center",t.fillText("PIZZA",128,30),t.fillStyle=r>70?"#00ff00":r>40?"#ffff00":"#ff4444",t.font="bold 36px monospace",t.fillText(`${r}%`,128,80),e.userData.texture.needsUpdate=!0}}})})(e,{speed:60*Math.sqrt(r.x*r.x+r.z*r.z),altitude:t.position.y,pizzaHealth:or.current})}}}xr.current.drones.forEach(e=>{if(e.children.filter(e=>e.userData.isRotor).forEach(e=>{e.rotation.y+=.3}),ir.current&&xr.current.currentDrone===e){const t=xr.current.controls,n=.3,o=.05,i=e.position.clone(),a=e.position.y;let s="cruising",l=!1;if(d){const t=xr.current.bases.find(e=>e.userData.baseNumber===d.base);if(t){const r=t.position.x,n=t.position.z;l=Math.sqrt(Math.pow(e.position.x-r,2)+Math.pow(e.position.z-n,2))<1}}s=a<10&&!l?"ascending":l?"descending":"cruising",s!==ht&&(xt(s),"ascending"===s?G("üöÅ ASCENDING - Reach 10m altitude to unlock controls!"):"cruising"===s?G(`‚úàÔ∏è CRUISING - Fly to Base ${d?.base}! Use WASD to navigate.`):"descending"===s&&G("üìç LANDING - Descend to drop zone! Press RELEASE when ready.")),"ascending"===s?(t.up&&(e.position.y+=1*n*1.5),t.left&&(e.rotation.y+=o),t.right&&(e.rotation.y-=o)):"cruising"===s?(t.forward&&(e.position.x+=Math.sin(e.rotation.y)*n,e.position.z+=Math.cos(e.rotation.y)*n),t.back&&(e.position.x-=Math.sin(e.rotation.y)*n,e.position.z-=Math.cos(e.rotation.y)*n),t.left&&(e.rotation.y+=o),t.right&&(e.rotation.y-=o),t.up&&(e.position.y+=1*n),t.down&&(e.position.y=Math.max(1.5,e.position.y-1*n))):"descending"===s&&(t.up&&(e.position.y+=1*n),t.down&&(e.position.y=Math.max(6.5,e.position.y-1*n)),t.left&&(e.rotation.y+=o),t.right&&(e.rotation.y-=o));const c={x:e.position.x-i.x,y:e.position.y-i.y,z:e.position.z-i.z};if(xr.current.lastDroneVelocity=c,wr(e.position.y),Dr(60*c.y),d){const t=xr.current.bases.find(e=>e.userData.baseNumber===d.base);if(t){const r=t.position.x,n=t.position.z,o=Math.sqrt(Math.pow(e.position.x-r,2)+Math.pow(e.position.z-n,2));ut(o);const i=Math.sqrt(Math.pow(e.position.x-r,2)+Math.pow(e.position.y,2)+Math.pow(e.position.z-n,2));at(i);const a=o<1,s=e.position.y>=6&&e.position.y<=8,l=e.position.y>8;ct(a&&l),lt(a&&s),xr.current.bases.forEach(e=>{const t=e.userData.baseNumber===d.base;e.traverse(e=>{(e.userData.isBeacon||e.userData.isHalo||e.userData.isPulsingMarker)&&(e.visible=t,t&&e.material&&(a?(e.material.color.setHex(65280),e.material.opacity=e.userData.isPulsingMarker?1:.5):(e.material.color.setHex(65416),e.material.opacity=e.userData.isPulsingMarker?.8:.3)))})})}}else ct(!1),ut(null),xr.current.bases.forEach(e=>{e.traverse(e=>{(e.userData.isBeacon||e.userData.isHalo||e.userData.isPulsingMarker)&&(e.visible=!1)})});const p=xr.current.renderer;p?.xr?.isPresenting||Mr(r,e,nt)}});const o=xr.current.player;if(o&&ft&&!ir.current){const e=xr.current.playerControls,t=.15,n=.1,i=.05,a=o.position.clone();e.forward&&(o.position.x+=Math.sin(o.rotation.y)*t,o.position.z+=Math.cos(o.rotation.y)*t),e.back&&(o.position.x-=Math.sin(o.rotation.y)*n,o.position.z-=Math.cos(o.rotation.y)*n),e.left&&(o.rotation.y+=i),e.right&&(o.rotation.y-=i);const s=o.position.x-a.x,l=o.position.z-a.z,d=Math.sqrt(s*s+l*l),c=Date.now(),p=d>.001,u=c-xr.current.lastMoveTime;p?(xr.current.moveAccumulator=u<100?Math.min(2,xr.current.moveAccumulator+.03):Math.max(0,xr.current.moveAccumulator-.3),xr.current.lastMoveTime=c):xr.current.moveAccumulator=Math.max(0,xr.current.moveAccumulator-.05);const h=d*(.5+xr.current.moveAccumulator);xr.current.sustainedSpeed=h,kr(60*h),xr.current.lastPlayerVelocity={x:s,z:l};const x=xr.current.playerPizza;if(x){const e=2,t=Math.PI/4,r=.12,n=.14,i=l*Math.cos(o.rotation.y)+s*Math.sin(o.rotation.y),a=s*Math.cos(o.rotation.y)-l*Math.sin(o.rotation.y),d=Math.max(-t,Math.min(t,i*e*10)),c=Math.max(-t,Math.min(t,-a*e*10));x.rotation.x+=.08*(d-x.rotation.x),x.rotation.z+=.08*(c-x.rotation.z);const p=h>n;if(Er(h>r),p){const e=2*(h-n),t=Math.max(0,or.current-e);t!==or.current&&(or.current=t,Et(t),nr.current?.isInVR&&(nr.current.triggerHaptic("left",.3,50),nr.current.triggerHaptic("right",.3,50)))}const u=Math.abs(x.rotation.x)+Math.abs(x.rotation.z);if(u>1.5*t){const e=.2*(u-1.5*t),r=Math.max(0,or.current-e);r!==or.current&&(or.current=r,Et(r),nr.current?.isInVR&&(nr.current.triggerHaptic("left",.6,100),nr.current.triggerHaptic("right",.6,100)))}}mr({x:o.position.x,z:o.position.z});let f=null,m=1/0;xr.current.drones.forEach(e=>{const t=o.position.distanceTo(e.position);t<m&&(m=t,f=e)}),yr(f&&m<3?f.userData.label:null);const g=xr.current.renderer;g?.xr?.isPresenting||(r.position.x=o.position.x-8*Math.sin(o.rotation.y),r.position.y=6,r.position.z=o.position.z-8*Math.cos(o.rotation.y),r.lookAt(o.position.x,1.5,o.position.z))}if(o&&!ft&&!ir.current){const e=xr.current.playerControls,t=.18,n=.12,i=.06;e.forward&&(o.position.x+=Math.sin(o.rotation.y)*t,o.position.z+=Math.cos(o.rotation.y)*t),e.back&&(o.position.x-=Math.sin(o.rotation.y)*n,o.position.z-=Math.cos(o.rotation.y)*n),e.left&&(o.rotation.y+=i),e.right&&(o.rotation.y-=i),kr(0),Er(!1);const a=Math.sqrt(Math.pow(o.position.x-J,2)+Math.pow(o.position.z-K,2));br(a<3);const s=xr.current.renderer;s?.xr?.isPresenting||(r.position.x=o.position.x-8*Math.sin(o.rotation.y),r.position.y=6,r.position.z=o.position.z-8*Math.cos(o.rotation.y),r.lookAt(o.position.x+5*Math.sin(o.rotation.y),1.5,o.position.z+5*Math.cos(o.rotation.y)))}const i=.001*Date.now();xr.current.bases.forEach(e=>{e.traverse(e=>{if(e.userData.isBeacon&&(e.material.opacity=.1+.08*Math.sin(2*i)),e.userData.isHalo&&(e.rotation.z+=.005,e.material.opacity=.25+.15*Math.sin(3*i+.5*e.position.y)),e.userData.isPulsingMarker){const t=.4+.4*Math.sin(4*i);e.material.opacity=t,e.scale.setScalar(.8+.3*Math.sin(3*i))}})}),F.render(e,r)});const me=e=>{const t=e.key.toLowerCase();ir.current&&("w"===t&&(xr.current.controls.forward=!0),"s"===t&&(xr.current.controls.back=!0),"a"===t&&(xr.current.controls.left=!0),"d"===t&&(xr.current.controls.right=!0)," "===e.key&&(e.preventDefault(),xr.current.controls.up=!0),"Shift"===e.key&&(xr.current.controls.down=!0),"v"===t&&ot(e=>"third"===e?"pov":"pov"===e?"overhead":"third")),ir.current||("w"===t&&(xr.current.playerControls.forward=!0),"s"===t&&(xr.current.playerControls.back=!0),"a"===t&&(xr.current.playerControls.left=!0),"d"===t&&(xr.current.playerControls.right=!0))},ge=e=>{const t=e.key.toLowerCase();"w"===t&&(xr.current.controls.forward=!1),"s"===t&&(xr.current.controls.back=!1),"a"===t&&(xr.current.controls.left=!1),"d"===t&&(xr.current.controls.right=!1)," "===e.key&&(xr.current.controls.up=!1),"Shift"===e.key&&(xr.current.controls.down=!1),"w"===t&&(xr.current.playerControls.forward=!1),"s"===t&&(xr.current.playerControls.back=!1),"a"===t&&(xr.current.playerControls.left=!1),"d"===t&&(xr.current.playerControls.right=!1)};window.addEventListener("keydown",me),window.addEventListener("keyup",ge);const ye=()=>{r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),F.setSize(window.innerWidth,window.innerHeight)};return window.addEventListener("resize",ye),()=>{window.removeEventListener("keydown",me),window.removeEventListener("keyup",ge),window.removeEventListener("resize",ye),F.setAnimationLoop(null),xr.current.vrButton&&t.current&&t.current.removeChild(xr.current.vrButton),t.current&&F.domElement&&t.current.removeChild(F.domElement),nr.current?.session&&nr.current.endSession()}},[d,nt,ft,r]),e.useEffect(()=>{if(Tt<=0&&ft){bt(!0),mt(!1),O(e=>e+1);const e=we(0,0,0,!1,!0);Ut(t=>{const r=Math.max(0,t.xp+e),n=t.rank,o=ve(r);if(n.name!==o.name){const e=Se(n,o,!1);e&&setTimeout(()=>{Jt(e),setTimeout(()=>Jt(null),4e3)},2e3)}return{...t,destroyedPizzas:t.destroyedPizzas+1,xp:r,rank:o}}),nr.current?.isInVR&&(nr.current.triggerHaptic("left",1,300),nr.current.triggerHaptic("right",1,300),setTimeout(()=>{nr.current.triggerHaptic("left",.7,200),nr.current.triggerHaptic("right",.7,200)},350));const t=xr.current.player;t&&xr.current.playerPizza&&(t.remove(xr.current.playerPizza),xr.current.playerPizza=null);const r=jt?.price||18.99;$(e=>e-r);let n="";n=r>=49.99?"ü¶û THE LOBSTER PIZZA?! Boss is going to FIRE you!":r>=24.99?"üçÑ A truffle pizza... that's coming out of your paycheck for WEEKS!":r>=21.99?"üëë The Supreme Deluxe! Management wants a word with you...":r<15?`üßÄ Lucky you - it was just ${jt?.name||"a cheap one"}!`:jt?.description||"That pizza is gone forever!",G(`üíÄ PIZZA DESTROYED! -$${r.toFixed(2)} | ${Math.abs(e)} XP lost! ${n}`)}},[Tt,ft,jt]);const Mr=(e,t,r)=>{if("pov"===r){e.position.copy(t.position),e.position.y+=.3,e.position.x+=.2*Math.sin(t.rotation.y),e.position.z+=.2*Math.cos(t.rotation.y);const r=new s(t.position.x+50*Math.sin(t.rotation.y),t.position.y-2,t.position.z+50*Math.cos(t.rotation.y));e.lookAt(r),t.traverse(e=>{e.isMesh&&!e.userData.isRotor&&(e.material.transparent=!0,e.material.opacity=.3)})}else t.traverse(e=>{e.isMesh&&!e.userData.isRotor&&e.material.transparent&&(e.material.transparent=!1,e.material.opacity=1)}),"overhead"===r?(e.position.x=t.position.x,e.position.y=t.position.y+30,e.position.z=t.position.z+5,e.lookAt(t.position)):(e.position.x=t.position.x-12*Math.sin(t.rotation.y),e.position.y=t.position.y+5,e.position.z=t.position.z-12*Math.cos(t.rotation.y),e.lookAt(t.position))},Rr=(e,t,r)=>{const n=xr.current.renderer,o=xr.current.vrPlayerRig;if(n?.xr?.isPresenting&&o)if(r&&t.currentDrone){const e=t.currentDrone;o.position.set(e.position.x,e.position.y+.3,e.position.z),o.rotation.y=e.rotation.y,e.traverse(e=>{e.isMesh&&!e.userData.isRotor&&(e.userData.originalOpacity||(e.userData.originalOpacity=e.material.opacity||1),e.material.transparent=!0,e.material.opacity=.15)})}else if(t.player){const e=t.player;o.position.set(e.position.x,0,e.position.z),o.rotation.y=e.rotation.y,t.drones?.forEach(e=>{e.traverse(e=>{e.isMesh&&void 0!==e.userData.originalOpacity&&(e.material.opacity=e.userData.originalOpacity)})})}},Pr=e.useCallback(()=>{const e=(()=>{const e=[25,20,15,12,10,8,5,4,1],t=e.reduce((e,t)=>e+t,0);let r=Math.random()*t;for(let n=0;n<e.length;n++)if(r-=e[n],r<=0)return ue[n];return ue[0]})(),t=`${ye[Math.floor(Math.random()*ye.length)]} ${ze[Math.floor(Math.random()*ze.length)]}`,r={drone:["A","B","C","D"][Math.floor(4*Math.random())],base:[1,2,3,4][Math.floor(4*Math.random())],pizzaType:e,customerName:t};F(r),kt(e),a("carrying"),G(`üçï ${e.emoji} ${e.name} ($${e.price.toFixed(2)}) for ${t}! Carry to Drone ${r.drone}`),q(!1),rt(null),mt(!1),Et(100),or.current=100,Rt({x:0,z:0}),Ht(!1),Gt(Date.now())},[]);e.useEffect(()=>{ar.current=Pr},[Pr]);const Cr=e.useCallback(()=>{mt(!1),Et(100),or.current=100,Rt({x:0,z:0}),Er(!1),xr.current&&(xr.current.sustainedSpeed=0,xr.current.moveAccumulator=0),G(`üçï Walk back to the shop to grab a new pizza for Drone ${d?.drone}!`)},[d]),Ir=e.useCallback(()=>{if("carrying"!==r||ft)return;const e=xr.current.player;if(e&&xr.current.scene){const t=new c,r=new p(.8,.15,.8),a=new o({color:13395507}),s=new i(r,a);s.castShadow=!0,t.add(s);const l=new n(.35,.35,.05,16),d=new o({color:16763904}),u=new i(l,d);u.position.y=.1,t.add(u);const h=new n(.05,.05,.02,8),x=new o({color:11149858});for(let e=0;e<8;e++){const r=new i(h,x),n=e/8*Math.PI*2,o=.15+.15*Math.random();r.position.set(Math.cos(n)*o,.13,Math.sin(n)*o),t.add(r)}t.position.set(0,1.2,.6),e.add(t),xr.current.playerPizza=t}mt(!0),G(`üçï Carrying pizza! Use WASD to walk carefully to Drone ${d?.drone}. Keep it level!`)},[r,ft,d]);e.useEffect(()=>{sr.current=Ir},[Ir]);const Ar=e.useCallback(e=>{if(d&&ft)return e!==d.drone?(G(`‚ùå Wrong drone! You need Drone ${d.drone}`),void Et(e=>Math.max(0,e-5))):Tt<50?(Dt(e),void wt(!0)):void Br(e)},[d,ft,Tt]),Br=e.useCallback(e=>{const t=xr.current.drones.find(t=>t.userData.label===e);if(!t)return;const r=xr.current.player;r&&xr.current.playerPizza&&(r.remove(xr.current.playerPizza),xr.current.playerPizza=null);const n=(()=>{const e=new c,t=new p(.8,.15,.8),r=new o({color:de}),n=new i(t,r);n.castShadow=!0,e.add(n);const a=new p(.82,.05,.82),s=new o({color:16733525}),l=new i(a,s);l.position.y=.1,e.add(l);const d=new j(.2,32),u=new x({color:16763904}),h=new i(d,u);return h.rotation.x=-Math.PI/2,h.position.y=.13,e.add(h),e})();n.position.set(0,-.5,0),n.userData.isPizza=!0,t.add(n),t.userData.hasPizza=!0,t.userData.targetBase=d.base,xr.current.currentDrone=t,rt(e),mt(!1),a("flying"),q(!0),xt("ascending"),yr(null),G("üöÅ TAKEOFF! Hold SPACE to ascend to 10m cruise altitude!")},[d,ft,Tt]);e.useCallback((e,t)=>{if(!ft)return;Rt(r=>({x:Math.max(-30,Math.min(30,r.x+2*e-.05*r.x)),z:Math.max(-30,Math.min(30,r.z+2*t-.05*r.z))}));const r=Math.sqrt(Mt.x**2+Mt.z**2);r>20&&Et(e=>Math.max(0,e-.05*r))},[ft,Mt]);const Fr=e.useCallback(e=>{ft&&Ar(e)},[ft,Ar]),Lr=e.useCallback(()=>{if(!U||!xr.current.currentDrone||!st)return void(st||G("‚ö†Ô∏è Get closer to the base! Wait for green indicator."));const e=xr.current.currentDrone,t=e.children.find(e=>e.userData.isPizza);if(!t)return void G("‚ùå No pizza attached!");const r=(Date.now()-_t)/1e3,n=Tt>=95&&r<45,o=(e=>e<30?{temp:"PIPING HOT",emoji:"üî•üî•üî•",color:"#ff4400",bonus:2,penalty:0}:e<45?{temp:"HOT",emoji:"üî•üî•",color:"#ff6600",bonus:1,penalty:0}:e<60?{temp:"WARM",emoji:"üî•",color:"#ff9900",bonus:.5,penalty:0}:e<90?{temp:"LUKEWARM",emoji:"üòê",color:"#ffcc00",bonus:0,penalty:-.5}:e<120?{temp:"COOL",emoji:"‚ùÑÔ∏è",color:"#66ccff",bonus:0,penalty:-1}:{temp:"COLD",emoji:"ü•∂",color:"#0099ff",bonus:0,penalty:-2})(r),i=jt?.price||15.99,s=Le(Tt,r),l=((e,t,r,n=15.99,o=null)=>{const i=Le(t,e),a=e>=90,s=t<70,l=t<50;if(t<30)return 0;if(e>=150&&l)return 0;if(i<1.5)return 0;let d=!1;e>=120&&!s&&(d=!0),l&&!a&&(d=!0),a&&s&&!l&&(d=!0);let c=1;const p=t>=97;i>=4.8?(c=2,p&&e<45&&(c=2.5)):i>=4.5?(c=1.7,p&&(c=2)):i>=4?(c=1.4,t>=95&&(c=1.6)):c=i>=3.5?1:i>=3?.7:i>=2.5?.3:i>=2?.1:0;let u=.15*n*c;r&&i>=4.5&&(u+=.15*n,n>=25&&(u+=5),n>=40&&(u+=10)),p&&!r&&e<60&&(u+=2),a&&u>0&&(u=Math.max(.5,.5*u)),d&&u>0&&(u=Math.max(.25,.3*u)),o&&o.tipBonus>0&&u>0&&(u+=u*o.tipBonus);return u>0&&u<.25&&(u=.25),Math.round(100*u)/100})(r,Tt,n,i,Vt.rank),d=we(s,Tt,r,n,!1);e.remove(t),e.userData.hasPizza=!1,nr.current?.isInVR&&(nr.current.triggerHaptic("left",.8,150),nr.current.triggerHaptic("right",.8,150),setTimeout(()=>{nr.current.triggerHaptic("left",.5,100),nr.current.triggerHaptic("right",.5,100)},200)),$(e=>e+l),H(e=>e+1);const c=jt?.name||"Plain Cheese";Ut(e=>{const t=Math.max(0,e.xp+d),o=e.rank,a=ve(t),s={...e.pizzaTypeDeliveries,[c]:(e.pizzaTypeDeliveries[c]||0)+1},p=n?e.perfectDeliveries+1:e.perfectDeliveries,u=e.totalTips+l,h=e.fastestDelivery?Math.min(e.fastestDelivery,r):r;if(o.name!==a.name){const r=Se(o,a,t>e.xp);r&&setTimeout(()=>{Jt(r),setTimeout(()=>Jt(null),4e3)},1500)}const x={totalDeliveries:e.totalDeliveries+1,totalEarnings:e.totalEarnings+l,bestTime:e.bestTime?Math.min(e.bestTime,r):r,xp:t,rank:a,pizzaTypeDeliveries:s,perfectDeliveries:p,totalTips:u,fastestDelivery:h,storeEarnings:e.storeEarnings+i,badges:e.badges},f=((e,t=[])=>{const r=[],n=new Set(t.map(e=>e.id));for(const o of he)n.has(o.id)||(e.pizzaTypeDeliveries?.[o.pizzaType]||0)>=o.required&&r.push(o);for(const o of xe)!n.has(o.id)&&e.totalDeliveries>=o.deliveries&&r.push(o);for(const o of fe)!n.has(o.id)&&e.perfectDeliveries>=o.perfectDeliveries&&r.push(o);for(const o of me)!n.has(o.id)&&e.fastestDelivery&&e.fastestDelivery<=o.fastestTime&&r.push(o);for(const o of ge)!n.has(o.id)&&e.totalTips>=o.totalTips&&r.push(o);return r})(x,e.badges);return f.length>0&&(x.badges=[...e.badges,...f],setTimeout(()=>{Xt(f[0]),setTimeout(()=>Xt(null),4e3)},2500)),x});const p=((e,t,r,n)=>{const o=e=>e[Math.floor(Math.random()*e.length)];return 0===e?n<30?o(["ü§¨ 'Is this even pizza anymore?! GET OUT!'","üò± 'I ordered a PIZZA, not a CRIME SCENE!'","üò§ 'My grandma could deliver better... with her eyes closed!'","üóëÔ∏è 'I've seen better looking pizzas in the GARBAGE!'","üò§ 'I'm calling your manager, your manager's manager, and the MAYOR!'"]):n<50?o(["üò§ 'This pizza is RUINED! No tip for you!'","ü§Æ 'Did you play SOCCER with my pizza?!'","üò† 'I wanted a pizza, not a PUZZLE!'","üëé 'This is a DISASTER. Never order from here again!'","ü§¶ 'My expectations were low but HOLY...'"]):r>=120?o(["ü•∂ 'An ICE COLD pizza?! Are you kidding me?!'","‚ùÑÔ∏è 'I could have frozen a FRESH pizza faster!'","üßä 'Did you stop for a NAP on the way?!'","‚è∞ 'Did you deliver this by HORSE?!'","üò¥ 'I ordered this pizza LAST WEEK!'"]):r>=90&&n<70?o(["üò† 'Cold AND damaged?! I'm calling the manager!'","ü§Ø 'HOW did you manage to mess up THIS badly?!'","üí¢ 'You had ONE JOB!'","üò§ 'This is insulting. Just... leave.'"]):t<2?o(["üëé 'Worst delivery ever. No tip!'","üö´ 'I'd give you negative stars if I could!'","üòí 'My 5-year-old could do better!'","üí© 'This deserves the poop emoji.'"]):"üòí 'Really? No tip for this disaster.'":o(e<1?["üòê 'I guess... here's some change.'","üôÑ 'It's not GREAT, but here's something.'","üòë 'Consider this a mercy tip.'","üí≠ 'At least you showed up... barely.'"]:e<3?["üôÇ 'It was... okay. Here.'","üòå 'Decent enough. Thanks.'","üëå 'Not bad, not great. Here you go.'","ü§∑ 'Could be worse I guess.'"]:e<5?["üòä 'Not bad! Thanks!'","üëç 'Good job! Appreciate it!'","üòÑ 'Nice delivery! Here you go!'","üôå 'That was quick! Thanks!'"]:e<8?["üòÑ 'Great service! Here you go!'","üåü 'Impressive! Well done!'","üëè 'Now THAT'S how you deliver pizza!'","üî• 'Fast AND fresh! Love it!'"]:e<15?["ü§© 'AMAZING! Best delivery ever! Keep the change!'","ü•≥ 'WOW! You're a LEGEND!'","üíØ 'PERFECTION! You deserve this!'","‚≠ê 'Five stars! Tell your boss you need a raise!'","üòç 'Marry me! Just kidding... unless?'"]:["ü§ë 'INCREDIBLE! Here's a HUGE tip!'","üí∞ 'You just made my WHOLE DAY! Take ALL of this!'","üéâ 'FLAWLESS! I'm telling EVERYONE about you!'","üëë 'You're the KING/QUEEN of pizza delivery!'","üèÜ 'I've NEVER had delivery this good! Here's everything I got!'","üíé 'This is what EXCELLENCE looks like! Legendary tip for you!'"])})(l,s,r,Tt),u=Vt.rank?.tipBonus||0;Ot({deliveryTime:r,tip:l,pizzaHealth:Tt,isPerfect:n,temperature:o,rating:s,tipMessage:p,pizzaType:jt,xpChange:d,rankBonus:u,playerRank:Vt.rank}),Ht(!0),a("delivered"),q(!1),at(null),lt(!1),setTimeout(()=>{e.position.copy(e.userData.homePos),e.rotation.y=0,xr.current.currentDrone=null,xr.current.camera.position.set(0,15,30),xr.current.camera.lookAt(0,0,0)},100)},[U,st,Tt,_t]),$r=()=>xr.current.currentDrone?{x:xr.current.currentDrone.position.x,z:xr.current.currentDrone.position.z}:null;return V.jsxs("div",{style:{width:"100%",height:"100vh",position:"relative",overflow:"hidden"},children:[V.jsx("div",{ref:t,style:{width:"100%",height:"100%"}}),V.jsx(Ne,{score:L,pizzasDelivered:W,pizzasDestroyed:N,currentOrder:d,pilotMode:U,cameraView:nt,pizzaHealth:Tt,playerStats:Vt,dronePosition:$r(),currentPizzaType:jt}),U&&V.jsx(Ge,{dronePosition:$r(),targetBase:(()=>{if(!d)return null;const e=xr.current.bases.find(e=>e.userData.baseNumber===d.base);return e?{x:e.position.x,z:e.position.z}:null})(),currentOrder:d,altitude:vr,verticalSpeed:Sr}),U&&V.jsxs("div",{style:{position:"absolute",top:"240px",right:"20px",width:"220px",background:"ascending"===ht?"rgba(255, 165, 0, 0.9)":"descending"===ht?"rgba(0, 200, 255, 0.9)":"rgba(0, 200, 0, 0.9)",padding:"10px 15px",borderRadius:"10px",color:"white",fontWeight:"bold",fontSize:"14px",boxShadow:"0 4px 15px rgba(0,0,0,0.3)",border:"2px solid white"},children:[V.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[V.jsx("span",{style:{fontSize:"20px"},children:"ascending"===ht?"üöÄ":"descending"===ht?"üìç":"‚úàÔ∏è"}),V.jsxs("div",{style:{flex:1},children:[V.jsx("div",{style:{textTransform:"uppercase",letterSpacing:"1px",fontSize:"13px"},children:"ascending"===ht?"TAKEOFF":"descending"===ht?"LANDING":"CRUISING - FULL CONTROL"}),V.jsx("div",{style:{fontSize:"10px",opacity:.9},children:"ascending"===ht?`Altitude: ${Math.round(vr)}m / 10m`:"descending"===ht?`Land on roof (${vr.toFixed(1)}m)`:`Alt: ${vr.toFixed(1)}m`})]})]}),"ascending"===ht&&V.jsx("div",{style:{marginTop:"8px",width:"100%",height:"6px",background:"rgba(0,0,0,0.3)",borderRadius:"3px",overflow:"hidden"},children:V.jsx("div",{style:{width:`${Math.min(100,vr/10*100)}%`,height:"100%",background:"#fff",transition:"width 0.1s"}})}),V.jsxs("div",{style:{marginTop:"8px",fontSize:"11px",opacity:.9,display:"flex",justifyContent:"space-between"},children:[V.jsx("span",{children:"‚¨ÜÔ∏è SPACE = UP"}),V.jsx("span",{children:"‚¨áÔ∏è SHIFT = DOWN"})]}),V.jsx("div",{style:{marginTop:"4px",fontSize:"12px",color:Sr>0?"#00ff00":Sr<0?"#ff6600":"#888"},children:Sr>.5?"‚Üë‚Üë‚Üë ASCENDING":Sr<-.5?"‚Üì‚Üì‚Üì DESCENDING":"‚Äî HOVER"})]}),U&&V.jsx(Ve,{distanceToBase:it,canRelease:st,canDescend:dt,horizontalDist:pt,altitude:vr}),V.jsx(Ue,{message:_}),Pt&&V.jsx(qe,{step:It,onNext:()=>{It<Z.length-1?At(e=>e+1):(Ct(!1),Pr())},onSkip:()=>{Ct(!1),Pr()}}),Wt&&Nt&&V.jsx(Qe,{deliveryTime:Nt.deliveryTime,tip:Nt.tip,pizzaHealth:Nt.pizzaHealth,isPerfect:Nt.isPerfect,temperature:Nt.temperature,rating:Nt.rating,tipMessage:Nt.tipMessage,pizzaType:Nt.pizzaType,xpChange:Nt.xpChange,rankBonus:Nt.rankBonus,playerRank:Nt.playerRank,totalDeliveries:W,onNextOrder:()=>{Ht(!1),Pr()},onViewLeaderboard:()=>{Ht(!1),Ft(!0)}}),V.jsx(Je,{message:Yt}),V.jsx(Ye,{badge:qt}),zt&&V.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(180, 0, 0, 0.9)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"flashRed 0.5s ease-in-out 3"},children:[V.jsxs("div",{style:{fontSize:"80px",marginBottom:"20px",animation:"shake 0.5s ease-in-out infinite"},children:[jt?.emoji||"üçï","üíÄüí∏"]}),V.jsx("h1",{style:{color:"white",fontSize:"48px",textShadow:"0 0 20px #ff0000",marginBottom:"10px",textTransform:"uppercase",letterSpacing:"5px"},children:"PIZZA DESTROYED!"}),V.jsxs("div",{style:{background:"rgba(0,0,0,0.5)",padding:"8px 20px",borderRadius:"20px",marginBottom:"10px",fontSize:"18px",color:"#ffcc00"},children:[jt?.emoji," ",jt?.name||"Pizza"]}),V.jsxs("p",{style:{color:"#ffcccc",fontSize:"20px",marginBottom:"15px",textAlign:"center",maxWidth:"500px",fontStyle:"italic"},children:['"',jt?.description||"That pizza is gone forever!",'"']}),V.jsxs("div",{style:{background:"rgba(0,0,0,0.7)",padding:"15px 30px",borderRadius:"10px",border:"3px solid "+((jt?.price||18.99)>25?"#ff0000":"#ff4444"),marginBottom:"20px"},children:[V.jsx("div",{style:{color:"#ff6666",fontSize:"16px",marginBottom:"5px"},children:"üí∏ CHARGED TO YOUR WAGES:"}),V.jsxs("div",{style:{color:(jt?.price||18.99)>25?"#ff0000":"#ff4444",fontSize:(jt?.price||18.99)>25?"42px":"36px",fontWeight:"bold"},children:["-$",(jt?.price||18.99).toFixed(2)]}),V.jsx("div",{style:{color:"#ffaaaa",fontSize:"12px"},children:(jt?.price||18.99)>=49.99?"üò± THE MOST EXPENSIVE ONE!":(jt?.price||18.99)>=24.99?"üò∞ That was a premium pizza!":(jt?.price||18.99)<15?"üòÖ At least it was cheap...":"Full price of destroyed pizza!"})]}),V.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"center",marginBottom:"30px"},children:[V.jsxs("div",{style:{background:"rgba(0,0,0,0.5)",padding:"15px 25px",borderRadius:"10px",color:"white",textAlign:"center"},children:[V.jsx("div",{style:{fontSize:"14px",opacity:.8},children:"Pizzas Destroyed"}),V.jsx("div",{style:{fontSize:"36px",fontWeight:"bold"},children:N})]}),V.jsxs("div",{style:{background:"rgba(0,0,0,0.5)",padding:"15px 25px",borderRadius:"10px",color:L<0?"#ff4444":"#00ff00",textAlign:"center"},children:[V.jsx("div",{style:{fontSize:"14px",opacity:.8},children:"Total Wages"}),V.jsx("div",{style:{fontSize:"36px",fontWeight:"bold"},children:L<0?`-$${Math.abs(L).toFixed(2)}`:`$${L.toFixed(2)}`})]})]}),V.jsxs("div",{style:{display:"flex",gap:"15px"},children:[V.jsx("button",{onClick:()=>{bt(!1),Cr()},style:{...et.primary,background:"linear-gradient(180deg, #22aa22 0%, #118811 100%)",fontSize:"20px",padding:"15px 40px"},children:"üçï Try Again"}),V.jsx("button",{onClick:()=>{bt(!1),a("menu"),F(null)},style:{...et.secondary,fontSize:"20px",padding:"15px 40px"},children:"üè† Back to Menu"})]}),V.jsx("p",{style:{color:"#ffaaaa",fontSize:"14px",marginTop:"30px",opacity:.7},children:"üí° Tip: Move slowly and keep the pizza box level!"})]}),vt&&V.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(180, 100, 0, 0.9)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:1e3},children:[V.jsx("div",{style:{fontSize:"80px",marginBottom:"20px"},children:"üçïüò¨üçï"}),V.jsx("h1",{style:{color:"white",fontSize:"36px",textShadow:"0 0 20px #ff6600",marginBottom:"10px",textAlign:"center"},children:"WAIT... DELIVER THIS?!"}),V.jsxs("p",{style:{color:"#ffeecc",fontSize:"22px",marginBottom:"10px",textAlign:"center",maxWidth:"500px"},children:["This pizza is only ",V.jsxs("span",{style:{color:"#ff4444",fontWeight:"bold",fontSize:"28px"},children:[Math.round(Tt),"%"]})," intact!"]}),V.jsxs("p",{style:{color:"#ffcc88",fontSize:"18px",marginBottom:"30px",textAlign:"center",maxWidth:"500px",fontStyle:"italic"},children:['ü§î "Are you SURE you want to deliver this disaster?',V.jsx("br",{}),"The customer might not tip well... or at all...",V.jsx("br",{}),'They might even call your manager!"']}),V.jsxs("div",{style:{background:"rgba(0,0,0,0.3)",padding:"15px 30px",borderRadius:"10px",marginBottom:"25px"},children:[V.jsx("div",{style:{color:"#ffcc00",fontSize:"16px",marginBottom:"5px"},children:"üí∞ Expected Tip Reduction:"}),V.jsxs("div",{style:{color:"#ff4444",fontSize:"24px",fontWeight:"bold"},children:["-",Math.round(.5*(100-Tt)),"% tips! üò¢"]})]}),V.jsxs("div",{style:{display:"flex",gap:"15px"},children:[V.jsx("button",{onClick:()=>{wt(!1),St&&(Br(St),Dt(null))},style:{...et.primary,background:"linear-gradient(180deg, #cc6600 0%, #884400 100%)",fontSize:"18px",padding:"12px 30px"},children:"üòÖ YOLO! Deliver It Anyway"}),V.jsx("button",{onClick:()=>{wt(!1),Dt(null),Cr()},style:{...et.secondary,fontSize:"18px",padding:"12px 30px"},children:"üçï Get Fresh Pizza"})]}),V.jsx("p",{style:{color:"#ffddaa",fontSize:"12px",marginTop:"20px",opacity:.7},children:"Pro tip: Walk back to the shop for a perfect pizza! üèÉ‚Äç‚ôÇÔ∏è"})]}),V.jsx(Ke,{isOpen:Bt,onClose:()=>Ft(!1),category:Lt,onCategoryChange:$t,playerRank:42,playerScore:L}),!Bt&&!Wt&&"menu"!==r&&V.jsx(Ze,{topPlayers:Fe.fastest_delivery,playerRank:42,onExpand:()=>Ft(!0)}),V.jsxs("div",{style:{position:"absolute",bottom:20,left:"50%",transform:"translateX(-50%)",display:"flex",gap:"10px"},children:["menu"===r&&V.jsxs(V.Fragment,{children:[V.jsx("button",{onClick:()=>Ct(!0),style:et.secondary,children:"üìñ Tutorial"}),V.jsx("button",{onClick:Pr,style:et.primary,children:"üçï Start Delivering!"}),V.jsx("button",{onClick:()=>Ft(!0),style:et.secondary,children:"üèÜ Leaderboards"})]}),"carrying"===r&&!ft&&V.jsx(V.Fragment,{children:zr?V.jsx("button",{onClick:Ir,style:{...et.primary,animation:"pulse 1s infinite"},children:"üçï Grab Pizza from Shop"}):V.jsx("div",{style:{color:"white",background:"rgba(0,0,0,0.7)",padding:"10px 20px",borderRadius:"8px"},children:"üè™ Walk to the Pizza Shop! (WASD to move)"})}),"carrying"===r&&ft&&V.jsxs(V.Fragment,{children:[V.jsxs("div",{style:{color:"white",background:"rgba(0,0,0,0.7)",padding:"10px 20px",borderRadius:"8px",marginRight:"10px"},children:["üçï Walk to Drone ",d?.drone,"! (WASD to move)"]}),gr&&V.jsxs("button",{onClick:()=>Ar(gr),style:{...et.primary,background:gr===d?.drone?"#22cc22":"#cc8822",animation:gr===d?.drone?"pulse 0.5s infinite":"none"},children:["üöÅ Load Drone ",gr,gr!==d?.drone&&" (Wrong!)"]})]}),"flying"===r&&U&&V.jsx("button",{onClick:Lr,style:{...et.danger,animation:st?"glow 1s infinite":"none"},children:"üì¶ Release Pizza"})]}),ft&&V.jsx(Oe,{pizzaHealth:Tt,pizzaTilt:Mt}),ft&&V.jsx(_e,{speed:jr,isWarning:Tr,pizzaHealth:Tt}),U&&V.jsx(Xe,{}),V.jsx("style",{children:"\n  @keyframes blink {\n    0%, 50% { opacity: 1; }\n    51%, 100% { opacity: 0.3; }\n  }\n  \n  @keyframes pulse {\n    0%, 100% { transform: translate(-50%, -50%) scale(1); }\n    50% { transform: translate(-50%, -50%) scale(1.2); }\n  }\n  \n  @keyframes popIn {\n    0% { transform: scale(0.8); opacity: 0; }\n    100% { transform: scale(1); opacity: 1; }\n  }\n  \n  @keyframes shake {\n    0%, 100% { transform: translateX(0); }\n    25% { transform: translateX(-5px); }\n    75% { transform: translateX(5px); }\n  }\n  \n  @keyframes glow {\n    0%, 100% { box-shadow: 0 0 5px #00ff00; }\n    50% { box-shadow: 0 0 20px #00ff00, 0 0 30px #00ff00; }\n  }\n  \n  @keyframes slideIn {\n    0% { transform: translateY(-100%); opacity: 0; }\n    100% { transform: translateY(0); opacity: 1; }\n  }\n  \n  @keyframes fadeIn {\n    0% { opacity: 0; }\n    100% { opacity: 1; }\n  }\n  \n  @keyframes bounce {\n    0%, 100% { transform: translateY(0); }\n    50% { transform: translateY(-10px); }\n  }\n  \n  @keyframes rotate {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n  \n  @keyframes warning {\n    0%, 100% { background-color: rgba(255, 0, 0, 0.2); }\n    50% { background-color: rgba(255, 0, 0, 0.5); }\n  }\n  \n  .game-button {\n    transition: all 0.2s ease;\n  }\n  \n  .game-button:hover {\n    transform: scale(1.05);\n    box-shadow: 0 6px 12px rgba(0,0,0,0.4);\n  }\n  \n  .game-button:active {\n    transform: scale(0.98);\n  }\n"})]})};function rt(){return V.jsx("div",{className:"App",children:V.jsx(tt,{})})}U.createRoot(document.getElementById("root")).render(V.jsx(r.StrictMode,{children:V.jsx(rt,{})}));
